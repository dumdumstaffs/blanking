"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{7536:function(e,t,n){n.d(t,{N1:function(){return p},w7:function(){return m}});var r=n(8788),a=n(5163),i=n(7079);function s(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return t=e.accountId,n=e.dto,[4,i.dJ.post("/transfers/external/out/".concat(t),n)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return t=e.accountId,n=e.id,[4,i.dJ.delete("/admin/transfers/external/out/".concat(t,"/").concat(n))];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}var l=n(2066),d=n(3569),m=function(){var e=(0,l.useQueryClient)();return(0,l.useMutation)(s,{onSuccess:function(t,n){var r=n.accountId;return e.invalidateQueries(d.lB.for(r))}})},p=function(){var e=(0,l.useQueryClient)();return(0,l.useMutation)(u,{onSuccess:function(t,n){var r=n.accountId,a=n.id;return Promise.all([e.invalidateQueries(d.PO.for(r)),e.invalidateQueries(d.PO.getFor(r,"externalTransferOut",a)),])}})}},4219:function(e,t,n){n.d(t,{xR:function(){return p},u3:function(){return m}});var r=n(8788),a=n(5163),i=n(7079);function s(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return t=e.accountId,n=e.dto,[4,i.dJ.post("/transfers/out/".concat(t),n)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return t=e.accountId,n=e.id,[4,i.dJ.delete("/admin/transfers/out/".concat(t,"/").concat(n))];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}var l=n(2066),d=n(3569),m=function(){var e=(0,l.useQueryClient)();return(0,l.useMutation)(s,{onSuccess:function(t,n){var r=n.accountId;return e.invalidateQueries(d.lB.for(r))}})},p=function(){var e=(0,l.useQueryClient)();return(0,l.useMutation)(u,{onSuccess:function(t,n){var r=n.accountId,a=n.id;return Promise.all([e.invalidateQueries(d.PO.for(r)),e.invalidateQueries(d.PO.getFor(r,"transferOut",a)),])}})}},9213:function(e,t,n){n.d(t,{d:function(){return s}});var r=n(2322),a=n(6277),i=n(5392);function s(e){var t=e.query,n=e.children,s=e.fallback,o=e.className;return t.isLoading?(0,r.jsx)("div",{className:(0,a.Z)("h-full w-full flex-center",o),children:(0,r.jsx)(i.$,{className:"w-8 h-8 text-white"})}):t.isSuccess?(0,r.jsx)(r.Fragment,{children:n(t.data)}):s?!0===s||"string"==typeof s?(0,r.jsx)("div",{className:(0,a.Z)("h-full w-full flex-center",o),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof s?s:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:s}):(0,r.jsx)(r.Fragment,{children:n(void 0)})}},9744:function(e,t,n){n.d(t,{d:function(){return o},u:function(){return u}});var r=n(2322),a=n(1586),i=n(6875),s=n(2784);function o(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,s.useState)(!1),n=t[0],r=t[1],a=function(){return r(function(e){return!e})};return[a,{isOpen:n,onClose:a,backdropClose:e}]}function u(e){var t=e.title,n=e.isOpen,o=e.onClose,u=e.backdropClose,c=e.children;return(0,r.jsx)(a.u,{appear:!0,show:n,as:s.Fragment,children:(0,r.jsxs)(i.V,{as:"div",className:"relative z-10 text-sm",onClose:void 0===u||u?o:function(){},children:[(0,r.jsx)(a.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 ",children:(0,r.jsx)(a.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(i.V.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-md bg-white px-3 py-4 md:px-6 md:py-6 align-middle shadow-xl transition-all",children:[t&&(0,r.jsx)(i.V.Title,{className:"mb-6 md:text-lg text-center font-medium leading-6 text-gray-900",children:t}),c]})})})})]})})}},9951:function(e,t,n){n.d(t,{E:function(){return o}});var r=n(2322),a=n(6058),i=n(6277),s=n(2784);function o(e){var t=e.icon,n=e.title;return(0,r.jsx)(a.O,{as:s.Fragment,children:function(e){var a=e.selected;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 outline-none cursor-pointer group",children:[(0,r.jsx)("div",{className:(0,i.Z)(["flex-center w-10 h-10 sm:w-12 sm:h-12 border rounded-md text-gray-700",a?"bg-theme-1/10 border-transparent ring-2 ring-theme-1/40":"group-hover:border-transparent group-hover:ring-2 group-hover:ring-theme-1/30"]),children:t}),(0,r.jsx)("span",{className:"text-[10px] sm:text-xs text-center",children:n})]})}})}},2973:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(2322),a=n(8837),i=n(3188);function s(e){var t=e.transaction,n=e.onClick,s=(0,i.T)(t);return(0,r.jsxs)("div",{onClick:n,className:"grid items-baseline grid-cols-5 sm:grid-cols-8 gap-x-4 gap-y-2 px-2 sm:px-4 py-4 group even:bg-gray-50 cursor-pointer",children:[(0,r.jsx)("span",{className:"col-span-5 sm:col-span-2 text-xs sm:text-sm",children:new Date(t.createdAt).toLocaleDateString()}),(0,r.jsxs)("div",{className:"col-span-3 sm:col-span-5 flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-theme-1 font-medium group-hover:underline",children:s.desc}),(0,r.jsx)("span",{className:"text-xs",children:s.type})]}),(0,r.jsxs)("span",{className:"col-span-2 sm:col-span-1 text-right text-xs font-medium whitespace-nowrap",children:[s.negative?"-":"","$",(0,a.a)(t.amount)]})]})}},45:function(e,t,n){n.d(t,{I:function(){return d},v:function(){return m}});var r=n(865),a=n(6297),i=n(2322),s=n(7567),o=n(1586),u=n(6277),c=n(2784),l=(0,c.forwardRef)(function(e,t){var n=e.className,s=e.type,o=(0,a.Z)(e,["className","type"]);return(0,i.jsx)("input",(0,r.Z)({ref:t,type:void 0===s?"text":s,className:(0,u.Z)("py-3 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",n)},o))});l.displayName="Input";var d=(0,s.B)(l,{WithError:function(e){var t=e.children,n=e.error,r=e.className;return(0,i.jsxs)("div",{className:(0,u.Z)("space-y-2 w-full transform transition-all",r),children:[t,(0,i.jsx)(o.u,{show:!!n,className:"transform-gpu",enter:"transition-all duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("p",{className:"px-2 text-xs text-red-400",children:n})})]})}}),m=(0,c.forwardRef)(function(e,t){var n=e.label,s=e.className,o=e.id,c=(0,a.Z)(e,["label","className","id"]);return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:o,className:"text-gray-600",children:n}),(0,i.jsx)(l,(0,r.Z)({id:o,ref:t,className:(0,u.Z)("w-full py-4",s)},c))]})});m.displayName="LabelledInput"},8295:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(9644),a=n.n(r);function i(e){var t,n="Something went wrong";if(!a().isAxiosError(e))return n;var r=null===(t=e.response)||void 0===t?void 0:t.data;return r&&"object"==typeof r&&r.message||n}},3188:function(e,t,n){n.d(t,{T:function(){return r}});function r(e){if("bonus"===e.type)return{desc:"Bonus on account",type:"bonus",negative:!1};if("charge"===e.type)return{desc:"Charge on account",type:"charge",negative:!0};if("deposit"===e.type)return{desc:"Deposit on account",type:"deposit",negative:!1};if("externalTransferIn"===e.type)return{desc:"Transfer from external account",type:"external transfer",negative:!1};if("externalTransferOut"===e.type)return{desc:"Transfer to external account",type:"external transfer",negative:!0};if("transferIn"===e.type)return{desc:"Transfer from ".concat(e.accountName),type:"transfer",negative:!1};if("transferOut"===e.type)return{desc:"Transfer to ".concat(e.accountName),type:"transfer",negative:!0};if("withdrawal"===e.type)return{desc:"Withdrawal from account",type:"withdrawal",negative:!0};throw Error("invalid transaction")}},9814:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentStatus=t.AccountLevels=t.AccountTypes=void 0,t.AccountTypes=["savings","checking"],t.AccountLevels=["premier","platinum"],t.DocumentStatus=["idle","reviewing","accepted","rejected"]},5451:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},3030:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1527:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1675:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9706:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},5445:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1693:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(9814),t),a(n(5451),t),a(n(3030),t),a(n(1527),t),a(n(1675),t),a(n(9706),t),a(n(5445),t),a(n(4995),t),a(n(9239),t),a(n(8497),t),a(n(251),t),a(n(2639),t)},4995:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9239:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},8497:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},251:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},2639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9697:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(1693),t),a(n(6139),t)},7620:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSchema=void 0;let r=n(6750),a=n(1693);class i{}t.AccountSchema=i,i.update=r.z.object({name:r.z.string().min(1,"name is required"),pin:r.z.string().length(4,"pin must be 4 characters").optional()}),i.adminCreate=r.z.object({name:r.z.string().min(1,"account name is required"),type:r.z.enum(a.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:r.z.enum(a.AccountLevels,{errorMap:()=>({message:"invalid account level"})})}),i.adminUpdate=r.z.object({name:r.z.string().min(1,"account name is required"),type:r.z.enum(a.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:r.z.enum(a.AccountLevels,{errorMap:()=>({message:"invalid account level"})}),pin:r.z.string().length(4,"pin must be 4 characters").nullable(),isActive:r.z.boolean(),externalAccount:r.z.object({accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}).nullable(),alert:r.z.object({title:r.z.string().min(1,"title is required"),desc:r.z.string().min(1,"description is required")}).nullable(),documentRequest:r.z.object({name:r.z.string().min(1,"name is required"),desc:r.z.string().min(1,"description is required"),status:r.z.enum(a.DocumentStatus,{errorMap:()=>({message:"invalid document status"})})}).nullable(),permissions:r.z.object({canTransfer:r.z.boolean(),canTransferExternal:r.z.boolean(),canWithdraw:r.z.boolean(),canSetPin:r.z.boolean()})})},8117:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AuthSchema=void 0;let r=n(6750),a=n(1693);class i{}t.AuthSchema=i,i.login=r.z.object({email:r.z.string().email(),password:r.z.string().min(8,"password should be at least 8 characters")}),i.register=r.z.object({email:r.z.string().email(),firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),phone:r.z.string().min(1,"phone is required"),city:r.z.string().min(1,"city is required"),state:r.z.string().min(1,"state is required"),nationality:r.z.string().min(1,"country is required"),address:r.z.string().min(1,"address is required"),accountType:r.z.enum(a.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),password:r.z.string().min(8,"password should be at least 8 characters")})},5936:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BonusSchema=void 0;let r=n(6750),a=n(5170);class i{}t.BonusSchema=i,i.adminCreate=r.z.object({amount:r.z.number().positive()}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:a.zDate.optional()})},8096:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChargeSchema=void 0;let r=n(6750),a=n(5170);class i{}t.ChargeSchema=i,i.adminCreate=r.z.object({amount:r.z.number().positive()}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:a.zDate.optional()})},5244:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DepositSchema=void 0;let r=n(6750),a=n(5170);class i{}t.DepositSchema=i,i.adminCreate=r.z.object({amount:r.z.number().positive()}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:a.zDate.optional()})},7157:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSchema=void 0;let r=n(6750);class a{}t.DocumentSchema=a,a.create=r.z.object({name:r.z.string().min(1,"document name is required"),url:r.z.string().url("invalid document url")})},84:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EmailSchema=void 0;let r=n(6750);class a{}t.EmailSchema=a,a.send=r.z.object({receiver:r.z.string().email(),subject:r.z.string().min(1,"subject is required"),body:r.z.string().min(1,"body is required")})},5031:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalTransferOutSchema=t.ExternalTransferInSchema=void 0;let r=n(6750),a=n(5170);class i{}t.ExternalTransferInSchema=i,i.adminCreate=r.z.object({amount:r.z.number().positive(),accountName:r.z.string().min(1,"acount name is required"),bankName:r.z.string().min(1,"bank name is required")}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),accountName:r.z.string().min(1,"account name is required"),bankName:r.z.string().min(1,"bank name is required"),createdAt:a.zDate.optional()});class s{}t.ExternalTransferOutSchema=s,s.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}),s.adminCreate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required"),createdAt:a.zDate.optional()})},6139:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(7620),t),a(n(8117),t),a(n(5936),t),a(n(8096),t),a(n(5244),t),a(n(7157),t),a(n(84),t),a(n(5031),t),a(n(5161),t),a(n(2282),t),a(n(731),t),a(n(7041),t),a(n(7997),t)},5161:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSchema=void 0;let r=n(6750);class a{}t.TokenSchema=a,a.verify=r.z.object({token:r.z.string()})},2282:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},731:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferOutSchema=void 0;let r=n(6750),a=n(5170);class i{}t.TransferOutSchema=i,i.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number({invalid_type_error:"Invalid amount"}).positive(),accountNumber:r.z.string().min(1,"account number is required")}),i.adminCreate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required")}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:a.zDate.optional()})},7041:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserSchema=void 0;let r=n(6750);class a{}t.UserSchema=a,a.update=r.z.object({phone:r.z.string().min(1,"phone is required"),avatar:r.z.string().min(1,"invalid url").optional(),address:r.z.string().min(1,"address is required").optional(),city:r.z.string().min(1,"city is required").optional(),state:r.z.string().min(1,"state is required").optional(),nationality:r.z.string().min(1,"nationality is required").optional(),ssn:r.z.string().optional()}),a.adminCreate=r.z.object({email:r.z.string().email(),firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),password:r.z.string().min(8,"password should be at least 8 characters"),isAdmin:r.z.boolean(),isVerified:r.z.boolean()}),a.adminUpdate=r.z.object({firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),phone:r.z.string().min(1,"phone is required"),avatar:r.z.string().min(1,"invalid url").optional(),address:r.z.string().min(1,"address is required").optional(),city:r.z.string().min(1,"city is required").optional(),state:r.z.string().min(1,"state is required").optional(),nationality:r.z.string().min(1,"nationality is required").optional(),ssn:r.z.string().optional(),password:r.z.string().min(8,"password should be at least 8 characters"),isAdmin:r.z.boolean(),isVerified:r.z.boolean()})},5170:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.zDate=void 0;let r=n(6750);t.zDate=r.z.preprocess(e=>{if("string"==typeof e||e instanceof Date)return new Date(e)},r.z.date({invalid_type_error:"invalid date"}))},7997:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawalSchema=void 0;let r=n(6750),a=n(5170);class i{}t.WithdrawalSchema=i,i.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required")}),i.adminCreate=r.z.object({amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required")}),i.adminUpdate=r.z.object({amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required"),createdAt:a.zDate.optional()})},6058:function(e,t,n){n.d(t,{O:function(){return C}});var r=n(2784),a=n(544),i=n(586),s=n(3703),o=n(9108),u=n(2929),c=n(8064),l=n(3401),d=n(7352),m=n(1742),p=n(6799);function f({onFocus:e}){let[t,n]=(0,r.useState)(!0);return t?r.createElement(p._,{as:"button",type:"button",features:p.A.Focusable,onFocus(t){t.preventDefault();let r,a=50;function i(){if(a--<=0){r&&cancelAnimationFrame(r);return}if(e()){n(!1),cancelAnimationFrame(r);return}r=requestAnimationFrame(i)}r=requestAnimationFrame(i)}}):null}var b,v=n(5559),g=n(1554),h=n(9833),y=((b=y||{})[b.SetSelectedIndex=0]="SetSelectedIndex",b[b.RegisterTab=1]="RegisterTab",b[b.UnregisterTab=2]="UnregisterTab",b[b.RegisterPanel=3]="RegisterPanel",b[b.UnregisterPanel=4]="UnregisterPanel",b);let x={0(e,t){let n=e.tabs.filter(e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),a=[...e.tabs.slice(t.index),...r].find(e=>n.includes(e));return a?{...e,selectedIndex:e.tabs.indexOf(a)}:e},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],a=(0,u.z2)([...e.tabs,t.tab],e=>e.current),i=null!=(n=a.indexOf(r))?n:e.selectedIndex;return -1===i&&(i=e.selectedIndex),{...e,tabs:a,selectedIndex:i}},2:(e,t)=>({...e,tabs:e.tabs.filter(e=>e!==t.tab)}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:(0,u.z2)([...e.panels,t.panel],e=>e.current)},4:(e,t)=>({...e,panels:e.panels.filter(e=>e!==t.panel)})},z=(0,r.createContext)(null);function j(e){let t=(0,r.useContext)(z);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,j),n}return t}z.displayName="TabsSSRContext";let _=(0,r.createContext)(null);function T(e){let t=(0,r.useContext)(_);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,T),n}return t}_.displayName="TabsDataContext";let O=(0,r.createContext)(null);function P(e){let t=(0,r.useContext)(O);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,P),n}return t}function w(e,t){return(0,s.E)(t.type,x,e,t)}O.displayName="TabsActionsContext";let N=r.Fragment,S=(0,a.yV)(function(e,t){let{defaultIndex:n=0,vertical:i=!1,manual:s=!1,onChange:o,selectedIndex:u=null,...d}=e,p=i?"vertical":"horizontal",b=s?"manual":"auto",v=null!==u,g=(0,l.T)(t),[h,y]=(0,r.useReducer)(w,{selectedIndex:null!=u?u:n,tabs:[],panels:[]}),x=(0,r.useMemo)(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),j=(0,m.E)(o||(()=>{})),T=(0,m.E)(h.tabs),P=(0,r.useMemo)(()=>({orientation:p,activation:b,...h}),[p,b,h]),S=(0,m.E)(v?e.selectedIndex:h.selectedIndex),q=(0,r.useMemo)(()=>({registerTab:e=>(y({type:1,tab:e}),()=>y({type:2,tab:e})),registerPanel:e=>(y({type:3,panel:e}),()=>y({type:4,panel:e})),change(e){S.current!==e&&j.current(e),v||y({type:0,index:e})}}),[y,v]);(0,c.e)(()=>{y({type:0,index:null!=u?u:n})},[u]);let M=(0,r.useRef)({tabs:[],panels:[]});return r.createElement(z.Provider,{value:M},r.createElement(O.Provider,{value:q},r.createElement(_.Provider,{value:P},P.tabs.length<=0&&r.createElement(f,{onFocus(){var e,t;for(let n of T.current)if((null==(e=n.current)?void 0:e.tabIndex)===0)return null==(t=n.current)||t.focus(),!0;return!1}}),(0,a.sY)({ourProps:{ref:g},theirProps:d,slot:x,defaultTag:N,name:"Tabs"}))))}),q=(0,a.yV)(function(e,t){let{orientation:n,selectedIndex:r}=T("Tab.List"),i=(0,l.T)(t);return(0,a.sY)({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})}),M=(0,a.yV)(function(e,t){var n,m;let p=`headlessui-tabs-tab-${(0,i.M)()}`,{orientation:f,activation:b,selectedIndex:y,tabs:x,panels:z}=T("Tab"),_=P("Tab"),O=T("Tab"),w=j("Tab"),N=(0,r.useRef)(null),S=(0,l.T)(N,t);(0,c.e)(()=>_.registerTab(N),[_,N]);let q=w.current.tabs.indexOf(p);-1===q&&(q=w.current.tabs.push(p)-1);let M=x.indexOf(N);-1===M&&(M=q);let A=M===y,E=(0,v.z)(e=>{var t;let n=e();if(n===u.fE.Success&&"auto"===b){let r=null==(t=(0,h.r)(N))?void 0:t.activeElement,a=O.tabs.findIndex(e=>e.current===r);-1!==a&&_.change(a)}return n}),I=(0,v.z)(e=>{let t=x.map(e=>e.current).filter(Boolean);if(e.key===o.R.Space||e.key===o.R.Enter){e.preventDefault(),e.stopPropagation(),_.change(M);return}switch(e.key){case o.R.Home:case o.R.PageUp:return e.preventDefault(),e.stopPropagation(),E(()=>(0,u.jA)(t,u.TO.First));case o.R.End:case o.R.PageDown:return e.preventDefault(),e.stopPropagation(),E(()=>(0,u.jA)(t,u.TO.Last))}if(E(()=>(0,s.E)(f,{vertical:()=>e.key===o.R.ArrowUp?(0,u.jA)(t,u.TO.Previous|u.TO.WrapAround):e.key===o.R.ArrowDown?(0,u.jA)(t,u.TO.Next|u.TO.WrapAround):u.fE.Error,horizontal:()=>e.key===o.R.ArrowLeft?(0,u.jA)(t,u.TO.Previous|u.TO.WrapAround):e.key===o.R.ArrowRight?(0,u.jA)(t,u.TO.Next|u.TO.WrapAround):u.fE.Error}))===u.fE.Success)return e.preventDefault()}),C=(0,r.useRef)(!1),D=(0,v.z)(()=>{var e;C.current||(C.current=!0,null==(e=N.current)||e.focus(),_.change(M),(0,g.Y)(()=>{C.current=!1}))}),k=(0,v.z)(e=>{e.preventDefault()}),F=(0,r.useMemo)(()=>({selected:A}),[A]),R={ref:S,onKeyDown:I,onMouseDown:k,onClick:D,id:p,role:"tab",type:(0,d.f)(e,N),"aria-controls":null==(m=null==(n=z[M])?void 0:n.current)?void 0:m.id,"aria-selected":A,tabIndex:A?0:-1};return(0,a.sY)({ourProps:R,theirProps:e,slot:F,defaultTag:"button",name:"Tabs.Tab"})}),A=(0,a.yV)(function(e,t){let{selectedIndex:n}=T("Tab.Panels"),i=(0,l.T)(t),s=(0,r.useMemo)(()=>({selectedIndex:n}),[n]);return(0,a.sY)({ourProps:{ref:i},theirProps:e,slot:s,defaultTag:"div",name:"Tabs.Panels"})}),E=a.AN.RenderStrategy|a.AN.Static,I=(0,a.yV)(function(e,t){var n,s,o,u;let{selectedIndex:d,tabs:m,panels:f}=T("Tab.Panel"),b=P("Tab.Panel"),v=j("Tab.Panel"),g=`headlessui-tabs-panel-${(0,i.M)()}`,h=(0,r.useRef)(null),y=(0,l.T)(h,t);(0,c.e)(()=>b.registerPanel(h),[b,h]);let x=v.current.panels.indexOf(g);-1===x&&(x=v.current.panels.push(g)-1);let z=f.indexOf(h);-1===z&&(z=x);let _=z===d,O=(0,r.useMemo)(()=>({selected:_}),[_]),w={ref:y,id:g,role:"tabpanel","aria-labelledby":null==(s=null==(n=m[z])?void 0:n.current)?void 0:s.id,tabIndex:_?0:-1};return _||null!=(o=e.unmount)&&!o||null!=(u=e.static)&&u?(0,a.sY)({ourProps:w,theirProps:e,slot:O,defaultTag:"div",features:E,visible:_,name:"Tabs.Panel"}):r.createElement(p._,{as:"span",...w})}),C=Object.assign(M,{Group:S,List:q,Panels:A,Panel:I})},7352:function(e,t,n){n.d(t,{f:function(){return s}});var r=n(2784),a=n(8064);function i(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase())return"button"}function s(e,t){let[n,s]=(0,r.useState)(()=>i(e));return(0,a.e)(()=>{s(i(e))},[e.type,e.as]),(0,a.e)(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[n,t]),n}}}]);