(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{7649:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/documents/upload",function(){return n(3178)}])},4405:function(e,t,n){"use strict";n.d(t,{xl:function(){return h},rg:function(){return f}});var r=n(8788),a=n(5163),i=n(7079);function l(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return t=e.accountId,n=e.dto,[4,i.dJ.post("/documents/".concat(t),n)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function s(){return(s=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return t=e.accountId,[4,i.dJ.get("/admin/documents/".concat(t))];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}var u=n(5148),c=n(2066),d=n(8983),f=function(){var e=(0,c.useQueryClient)();return(0,c.useMutation)(l,{onSuccess:function(t,n){var r=n.accountId;return e.invalidateQueries(d.eA.get(r))}})},m=(0,u.no)("adminDocuments",{for:function(e){return[e]}}),h=function(e){return(0,c.useQuery)(m.for(e),function(){return function(e){return s.apply(this,arguments)}({accountId:e})})}},3178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(8788),a=n(865),i=n(5163),l=n(2322),o=n(4405),s=n(5133),u=n(412),c=n(9447),d=n(4819),f=n(8503),m=n(8720),h=n(8295),v=n(9644),w=n.n(v),p=n(5632),g=n(3955),x=n(2202);function b(){return(0,l.jsx)(f.c,{children:(0,l.jsx)(f.c.User,{children:(0,l.jsx)(m.wy,{children:function(e){var t,n,r=e.account;return(null===(t=r.documentRequest)||void 0===t?void 0:t.status)==="idle"||(null===(n=r.documentRequest)||void 0===n?void 0:n.status)==="rejected"?(0,l.jsxs)(c.$,{children:[(0,l.jsx)(c.$.Title,{children:(0,l.jsx)("h3",{children:"Upload Document"})}),(0,l.jsxs)(c.$.Content,{className:"py-6",children:[(0,l.jsx)("div",{className:"flex justify-between items-baseline",children:(0,l.jsx)("h4",{className:"text-lg font-medium",children:r.documentRequest.name})}),(0,l.jsx)("p",{className:"mt-2",children:r.documentRequest.desc}),(0,l.jsx)(E,{})]})]}):(0,l.jsx)(s.l,{path:"/"})}})})})}function E(){var e,t=(0,p.useRouter)(),n=(0,m.Mq)().account,s=(0,g.cI)(),c=(0,o.rg)(),f=s.handleSubmit((e=(0,r.Z)(function(e){var r,a,l;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(r=e.file,!n.documentRequest)return[2];return(a=new FormData).append("file",r[0]),a.append("upload_preset",d.$.upload.PRESET),[4,w().post(d.$.upload.URL,a)];case 1:return l=i.sent().data,c.mutate({accountId:n.id,dto:{name:n.documentRequest.name,url:l.secure_url}},{onSuccess:function(){(0,x.ZP)("Document uploaded successfully"),t.push("/")},onError:function(e){x.ZP.error((0,h.Z)(e))}}),[2]}})}),function(t){return e.apply(this,arguments)}));return(0,l.jsxs)("form",{onSubmit:f,className:"py-20",children:[(0,l.jsx)("input",(0,a.Z)({type:"file"},s.register("file",{required:"Please select document",validate:{size:function(e){if(e[0].size>2097152)return"File too large, max allowed is 2mb"},type:function(e){if(!e[0].type.startsWith("image"))return"Invalid file type"}}}))),s.formState.errors.file&&(0,l.jsx)("p",{className:"text-red-400 py-2",children:s.formState.errors.file.message}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(u.z,{loading:c.isLoading,children:"Upload"})})]})}},8295:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9644),a=n.n(r);function i(e){var t,n="Something went wrong";if(!a().isAxiosError(e))return n;var r=null===(t=e.response)||void 0===t?void 0:t.data;return r&&"object"==typeof r&&r.message||n}},6175:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))});t.Z=a},3912:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"}))});t.Z=a},4562:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}))});t.Z=a},1702:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}))});t.Z=a},1534:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))});t.Z=a},6992:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))});t.Z=a},8709:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"}))});t.Z=a},6131:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}))});t.Z=a},1257:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 012.25-2.25h7.5A2.25 2.25 0 0118 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 004.5 9v.878m13.5-3A2.25 2.25 0 0119.5 9v.878m0 0a2.246 2.246 0 00-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0121 12v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6c0-.98.626-1.813 1.5-2.122"}))});t.Z=a},642:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"}))});t.Z=a},924:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"}))});t.Z=a},5374:function(e,t,n){"use strict";var r=n(2784);let a=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}))});t.Z=a}},function(e){e.O(0,[949,599,875,955,503,774,888,179],function(){return e(e.s=7649)}),_N_E=e.O()}]);