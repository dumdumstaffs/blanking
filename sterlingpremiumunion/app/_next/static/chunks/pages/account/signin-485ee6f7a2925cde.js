(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{5871:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/signin",function(){return t(8582)}])},7545:function(n,e,t){"use strict";t.d(e,{oc:function(){return y},aC:function(){return w},YA:function(){return _},_y:function(){return Z},l4:function(){return N},yI:function(){return b},Mp:function(){return k},Su:function(){return C}});var r=t(8788),i=t(5163),u=t(7079);function a(n){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,u.dJ.post("/auth/request-otp",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function s(n){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,u.dJ.post("/auth/login",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,u.dJ.get("/auth/profile")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,u.dJ.post("/auth/register",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function p(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,u.dJ.post("/auth/verify",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,u.dJ.post("/auth/verify/request")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}var v=t(5148),j=t(2066),y=(0,v.no)("auth"),w=function(){return(0,j.useQuery)(y._def,l,{retry:!1})},b=function(){return(0,j.useMutation)(a)},_=function(){var n=(0,j.useQueryClient)();return(0,j.useMutation)(s,{onSuccess:function(e){var t=e.token;return(0,u.o4)(t),n.invalidateQueries(y._def)}})},N=function(){return(0,j.useMutation)(f)},Z=function(){var n=(0,j.useQueryClient)();return(0,j.useMutation)((0,r.Z)(function(){return(0,i.__generator)(this,function(n){return[2,(0,u.gy)()]})}),{onMutate:function(){return n.cancelQueries(y._def)},onSuccess:function(){return n.invalidateQueries(y._def)}})},k=function(){var n=(0,j.useQueryClient)();return(0,j.useMutation)(p,{onSuccess:function(){return n.invalidateQueries(y._def)}})},C=function(){return(0,j.useMutation)(m)}},9213:function(n,e,t){"use strict";t.d(e,{d:function(){return a}});var r=t(2322),i=t(6277),u=t(5392);function a(n){var e=n.query,t=n.children,a=n.fallback,c=n.className;return e.isLoading?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",c),children:(0,r.jsx)(u.$,{className:"w-8 h-8 text-white"})}):e.isSuccess?(0,r.jsx)(r.Fragment,{children:t(e.data)}):a?!0===a||"string"==typeof a?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",c),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof a?a:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)(r.Fragment,{children:t(void 0)})}},412:function(n,e,t){"use strict";t.d(e,{p:function(){return d},z:function(){return l}});var r=t(865),i=t(6670),u=t(6297),a=t(2322),c=t(6277),s=t(2784),o=t(5392),l=(0,s.forwardRef)(function(n,e){var t=n.loading,s=n.variant,l=void 0===s?"dark":s,d=n.className,f=n.children,h=(0,u.Z)(n,["loading","variant","className","children"]);return(0,a.jsx)("button",(0,i.Z)((0,r.Z)({ref:e,disabled:t},h),{className:(0,c.Z)(["flex-center px-4 py-2 border font-medium","focus:outline-none focus:ring-2 focus:ring-theme-1 focus:ring-offset-1","light"===l&&["border-white bg-white text-gray-800",],"dark"===l&&["border-blue-900 bg-blue-900 text-white",],"critical"===l&&["border-red-100 bg-red-100 text-red-700 focus:!ring-red-700"],"transparent-light"===l&&["border-white text-white"],"transparent-dark"===l&&["border-gray-200 text-gray-800"],d,]),children:t?(0,a.jsx)(o.$,{className:"w-5 h-5"}):f}))});l.displayName="Button";var d=function(n){var e=n.onClick,t=n.variant,c=n.children,o=(0,u.Z)(n,["onClick","variant","children"]),d=(0,s.useState)(!1),f=d[0],h=d[1],p=function(){return h(!0)},x=function(){return h(!1)},m=function(n){h(!1),e(n)};return f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"dark",onClick:x,children:"Cancel"})),(0,a.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"critical",onClick:m,children:"Proceed"}))]}):(0,a.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:void 0===t?"critical":t,onClick:p,children:c}))}},1396:function(n,e,t){"use strict";t.d(e,{g:function(){return d}});var r=t(865),i=t(6670),u=t(2322),a=t(7545),c=t(4005),s=t(4819),o=t(7729),l=t.n(o);function d(n){var e,t=n.mode,o=n.description,d=n.children,f=(0,a.aC)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l(),{children:[(0,u.jsx)("title",{children:s.$.app.NAME}),(0,u.jsx)("meta",{name:"description",content:(o?o+" | ":"")+"Premium Edge Bank - Banking, Loan & Insurance"}),(0,u.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/logo.jpg"}),(0,u.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0",id:"viewport"})]}),(0,u.jsx)("div",{className:"bg-grad-bluegreen text-sm",children:(0,u.jsx)("div",{className:"bg-[url('/pattern.png')] bg-cover bg-center",children:(0,u.jsx)(c.n,(0,i.Z)((0,r.Z)({query:f},"unverified"===(e=void 0===t?"guest":t)?{showOn:"success",redirectTo:"/signin",onSuccessRedirectCondition:function(n){if(n.isVerified)return"/"}}:"authenticated"===e?{showOn:"success",redirectTo:"/signin"}:"guest"===e?{showOn:"failure",redirectTo:"/"}:{showOn:"all"}),{children:(0,u.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-12 md:pt-16",children:d})}))})})]})}},8582:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(2322),i=t(8983),u=t(412),a=t(9097),c=t.n(a);function s(n){var e=n.account,t=n.isSignedIn,i=n.onSignIn;return(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[t?(0,r.jsx)(c(),{href:"/",children:(0,r.jsx)("a",{className:"text-sm font-medium text-theme-1",children:e.name})}):(0,r.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-xs space-x-2",children:[(0,r.jsx)("span",{children:e.accountNumber}),(0,r.jsx)("span",{className:"italic",children:e.type})]})]}),t?(0,r.jsx)(u.z,{variant:"transparent-dark",children:"Signed in"}):(0,r.jsx)(u.z,{variant:"transparent-light",className:"!bg-grad-bluegreen",onClick:function(){return i(e.id)},children:"Sign in"})]})}var o=t(9213),l=t(1396),d=t(8720),f=t(5632);function h(){var n=(0,f.useRouter)(),e=(0,i.xe)(),t=(0,d.Mq)(!0),u=t.account,a=t.signIn,c=function(e){a(e),n.push("/")};return(0,r.jsx)(l.g,{mode:"authenticated",children:(0,r.jsx)(o.d,{query:e,fallback:!0,children:function(n){return(0,r.jsxs)("div",{className:"w-full max-w-md px-3 sm:px-6 py-4 bg-white rounded-md shadow-sm",children:[(0,r.jsx)("h1",{className:"font-medium text-xl text-center mb-6",children:"Select Account"}),(0,r.jsx)("div",{className:"mt-3 flex flex-col border rounded-lg divide-y",children:n.map(function(n){return(0,r.jsx)(s,{account:n,isSignedIn:(null==u?void 0:u.id)===n.id,onSignIn:c},n.id)})})]})}})})}}},function(n){n.O(0,[949,774,888,179],function(){return n(n.s=5871)}),_N_E=n.O()}]);