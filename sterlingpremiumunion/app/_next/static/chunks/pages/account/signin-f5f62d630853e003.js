(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{5871:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/signin",function(){return t(8582)}])},7545:function(n,e,t){"use strict";t.d(e,{oc:function(){return g},aC:function(){return y},YA:function(){return j},_y:function(){return _},l4:function(){return w},Mp:function(){return N},Su:function(){return b}});var r=t(8788),i=t(5163),c=t(7079);function u(n){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/login",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function a(){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,c.dJ.get("/auth/profile")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/register",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/verify",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function m(){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,c.dJ.post("/auth/verify/request")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}var p=t(5148),v=t(2066),g=(0,p.no)("auth"),y=function(){return(0,v.useQuery)(g._def,a,{retry:!1})},j=function(){var n=(0,v.useQueryClient)();return(0,v.useMutation)(u,{onSuccess:function(e){var t=e.token;return(0,c.o4)(t),n.invalidateQueries(g._def)}})},w=function(){return(0,v.useMutation)(l)},_=function(){var n=(0,v.useQueryClient)();return(0,v.useMutation)((0,r.Z)(function(){return(0,i.__generator)(this,function(n){return[2,(0,c.gy)()]})}),{onMutate:function(){return n.cancelQueries(g._def)},onSuccess:function(){return n.invalidateQueries(g._def)}})},N=function(){var n=(0,v.useQueryClient)();return(0,v.useMutation)(f,{onSuccess:function(){return n.invalidateQueries(g._def)}})},b=function(){return(0,v.useMutation)(m)}},9213:function(n,e,t){"use strict";t.d(e,{d:function(){return u}});var r=t(2322),i=t(6277),c=t(5392);function u(n){var e=n.query,t=n.children,u=n.fallback,s=n.className;return e.isLoading?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",s),children:(0,r.jsx)(c.$,{className:"w-10 h-10 text-theme-1"})}):e.isSuccess?(0,r.jsx)(r.Fragment,{children:t(e.data)}):u?!0===u||"string"==typeof u?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",s),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof u?u:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:u}):(0,r.jsx)(r.Fragment,{children:t(void 0)})}},412:function(n,e,t){"use strict";t.d(e,{p:function(){return d},z:function(){return l}});var r=t(865),i=t(6670),c=t(6297),u=t(2322),s=t(6277),a=t(2784),o=t(5392),l=(0,a.forwardRef)(function(n,e){var t=n.loading,a=n.variant,l=void 0===a?"primary":a,d=n.className,f=n.children,h=(0,c.Z)(n,["loading","variant","className","children"]);return(0,u.jsx)("button",(0,i.Z)((0,r.Z)({ref:e,disabled:t},h),{className:(0,s.Z)(["flex-center px-4 py-2 border font-medium","focus:outline-none focus:ring-2 focus:ring-theme-1 focus:ring-offset-1","primary"===l&&["border-theme-1 bg-theme-1 text-white font-medium",],"critical"===l&&["border-red-100 bg-red-100 text-red-700 focus:!ring-red-700"],"secondary"===l&&["text-gray-800"],d,]),children:t?(0,u.jsx)(o.$,{className:"w-5 h-5"}):f}))});l.displayName="Button";var d=function(n){var e=n.onClick,t=n.variant,s=n.children,o=(0,c.Z)(n,["onClick","variant","children"]),d=(0,a.useState)(!1),f=d[0],h=d[1],m=function(){return h(!0)},x=function(){return h(!1)},p=function(n){h(!1),e(n)};return f?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"secondary",onClick:x,children:"Cancel"})),(0,u.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"critical",onClick:p,children:"Proceed"}))]}):(0,u.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:void 0===t?"critical":t,onClick:m,children:s}))}},1396:function(n,e,t){"use strict";t.d(e,{g:function(){return d}});var r=t(865),i=t(6670),c=t(2322),u=t(7545),s=t(4005),a=t(4819),o=t(7729),l=t.n(o);function d(n){var e,t=n.mode,o=n.description,d=n.children,f=(0,u.aC)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l(),{children:[(0,c.jsx)("title",{children:a.$.app.NAME}),(0,c.jsx)("meta",{name:"description",content:(o?o+" | ":"")+"Premium Edge Bank - Banking, Loan & Insurance"}),(0,c.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/favicon.png"}),(0,c.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0",id:"viewport"})]}),(0,c.jsx)("div",{className:"bg-gray-100 text-sm",children:(0,c.jsx)(s.n,(0,i.Z)((0,r.Z)({query:f},"unverified"===(e=void 0===t?"guest":t)?{showOn:"success",redirectTo:"/signin",onSuccessRedirectCondition:function(n){if(n.isVerified)return"/"}}:"authenticated"===e?{showOn:"success",redirectTo:"/signin"}:"guest"===e?{showOn:"failure",redirectTo:"/"}:{showOn:"all"}),{children:(0,c.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-12 md:pt-16",children:d})}))})]})}},8582:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(2322),i=t(8983),c=t(412),u=t(9097),s=t.n(u);function a(n){var e=n.account,t=n.isSignedIn,i=n.onSignIn;return(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[t?(0,r.jsx)(s(),{href:"/",children:(0,r.jsx)("a",{className:"text-sm font-medium text-theme-1",children:e.name})}):(0,r.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-xs space-x-2",children:[(0,r.jsx)("span",{children:e.accountNumber}),(0,r.jsx)("span",{className:"italic",children:e.type})]})]}),t?(0,r.jsx)(c.z,{variant:"secondary",children:"Signed in"}):(0,r.jsx)(c.z,{onClick:function(){return i(e.id)},children:"Sign in"})]})}var o=t(9213),l=t(1396),d=t(8720),f=t(5632);function h(){var n=(0,f.useRouter)(),e=(0,i.xe)(),t=(0,d.Mq)(!0),c=t.account,u=t.signIn,s=function(e){u(e),n.push("/")};return(0,r.jsx)(l.g,{mode:"authenticated",children:(0,r.jsx)(o.d,{query:e,fallback:!0,children:function(n){return(0,r.jsxs)("div",{className:"w-full max-w-md px-3 sm:px-6 py-4 bg-white rounded-md shadow-sm",children:[(0,r.jsx)("h1",{className:"font-medium text-xl text-center mb-6",children:"Select Account"}),(0,r.jsx)("div",{className:"mt-3 flex flex-col border rounded-lg divide-y",children:n.map(function(n){return(0,r.jsx)(a,{account:n,isSignedIn:(null==c?void 0:c.id)===n.id,onSignIn:s},n.id)})})]})}})})}}},function(n){n.O(0,[949,774,888,179],function(){return n(n.s=5871)}),_N_E=n.O()}]);