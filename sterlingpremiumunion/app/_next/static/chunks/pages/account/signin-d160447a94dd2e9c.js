(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{5871:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/signin",function(){return t(8582)}])},7545:function(n,e,t){"use strict";t.d(e,{oc:function(){return v},aC:function(){return j},YA:function(){return w},_y:function(){return b},l4:function(){return y},Mp:function(){return N},Su:function(){return _}});var r=t(8788),i=t(5163),c=t(7079);function s(n){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/login",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function u(){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,c.dJ.get("/auth/profile")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/register",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(function(n){var e;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,c.dJ.post("/auth/verify",n)];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(function(){var n;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,c.dJ.post("/auth/verify/request")];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}var p=t(5148),g=t(2066),v=(0,p.no)("auth"),j=function(){return(0,g.useQuery)(v._def,u,{retry:!1})},w=function(){var n=(0,g.useQueryClient)();return(0,g.useMutation)(s,{onSuccess:function(e){var t=e.token;return(0,c.o4)(t),n.invalidateQueries(v._def)}})},y=function(){return(0,g.useMutation)(l)},b=function(){var n=(0,g.useQueryClient)();return(0,g.useMutation)((0,r.Z)(function(){return(0,i.__generator)(this,function(n){return[2,(0,c.gy)()]})}),{onMutate:function(){return n.cancelQueries(v._def)},onSuccess:function(){return n.invalidateQueries(v._def)}})},N=function(){var n=(0,g.useQueryClient)();return(0,g.useMutation)(f,{onSuccess:function(){return n.invalidateQueries(v._def)}})},_=function(){return(0,g.useMutation)(x)}},9213:function(n,e,t){"use strict";t.d(e,{d:function(){return s}});var r=t(2322),i=t(6277),c=t(5392);function s(n){var e=n.query,t=n.children,s=n.fallback,a=n.className;return e.isLoading?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",a),children:(0,r.jsx)(c.$,{className:"w-8 h-8 text-white"})}):e.isSuccess?(0,r.jsx)(r.Fragment,{children:t(e.data)}):s?!0===s||"string"==typeof s?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",a),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof s?s:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:s}):(0,r.jsx)(r.Fragment,{children:t(void 0)})}},412:function(n,e,t){"use strict";t.d(e,{p:function(){return d},z:function(){return l}});var r=t(865),i=t(6670),c=t(6297),s=t(2322),a=t(6277),u=t(2784),o=t(5392),l=(0,u.forwardRef)(function(n,e){var t=n.loading,u=n.variant,l=void 0===u?"dark":u,d=n.className,f=n.children,h=(0,c.Z)(n,["loading","variant","className","children"]);return(0,s.jsx)("button",(0,i.Z)((0,r.Z)({ref:e,disabled:t},h),{className:(0,a.Z)(["flex-center px-4 py-2 border font-medium","focus:outline-none focus:ring-2 focus:ring-theme-1 focus:ring-offset-1","light"===l&&["border-white bg-white text-gray-800",],"dark"===l&&["border-blue-900 bg-blue-900 text-white",],"critical"===l&&["border-red-100 bg-red-100 text-red-700 focus:!ring-red-700"],"transparent-light"===l&&["border-white text-white"],"transparent-dark"===l&&["border-gray-200 text-gray-800"],d,]),children:t?(0,s.jsx)(o.$,{className:"w-5 h-5"}):f}))});l.displayName="Button";var d=function(n){var e=n.onClick,t=n.variant,a=n.children,o=(0,c.Z)(n,["onClick","variant","children"]),d=(0,u.useState)(!1),f=d[0],h=d[1],x=function(){return h(!0)},m=function(){return h(!1)},p=function(n){h(!1),e(n)};return f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"dark",onClick:m,children:"Cancel"})),(0,s.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:"critical",onClick:p,children:"Proceed"}))]}):(0,s.jsx)(l,(0,i.Z)((0,r.Z)({},o),{variant:void 0===t?"critical":t,onClick:x,children:a}))}},1396:function(n,e,t){"use strict";t.d(e,{g:function(){return d}});var r=t(865),i=t(6670),c=t(2322),s=t(7545),a=t(4005),u=t(4819),o=t(7729),l=t.n(o);function d(n){var e,t=n.mode,o=n.description,d=n.children,f=(0,s.aC)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l(),{children:[(0,c.jsx)("title",{children:u.$.app.NAME}),(0,c.jsx)("meta",{name:"description",content:(o?o+" | ":"")+"Premium Edge Bank - Banking, Loan & Insurance"}),(0,c.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/logo.jpg"}),(0,c.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0",id:"viewport"})]}),(0,c.jsx)("div",{className:"bg-grad-bluegreen text-sm",children:(0,c.jsx)("div",{className:"bg-[url('/pattern.png')] bg-cover bg-center",children:(0,c.jsx)(a.n,(0,i.Z)((0,r.Z)({query:f},"unverified"===(e=void 0===t?"guest":t)?{showOn:"success",redirectTo:"/signin",onSuccessRedirectCondition:function(n){if(n.isVerified)return"/"}}:"authenticated"===e?{showOn:"success",redirectTo:"/signin"}:"guest"===e?{showOn:"failure",redirectTo:"/"}:{showOn:"all"}),{children:(0,c.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-12 md:pt-16",children:d})}))})})]})}},8582:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(2322),i=t(8983),c=t(412),s=t(9097),a=t.n(s);function u(n){var e=n.account,t=n.isSignedIn,i=n.onSignIn;return(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[t?(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("a",{className:"text-sm font-medium text-theme-1",children:e.name})}):(0,r.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-xs space-x-2",children:[(0,r.jsx)("span",{children:e.accountNumber}),(0,r.jsx)("span",{className:"italic",children:e.type})]})]}),t?(0,r.jsx)(c.z,{variant:"transparent-dark",children:"Signed in"}):(0,r.jsx)(c.z,{variant:"transparent-light",className:"!bg-grad-bluegreen",onClick:function(){return i(e.id)},children:"Sign in"})]})}var o=t(9213),l=t(1396),d=t(8720),f=t(5632);function h(){var n=(0,f.useRouter)(),e=(0,i.xe)(),t=(0,d.Mq)(!0),c=t.account,s=t.signIn,a=function(e){s(e),n.push("/")};return(0,r.jsx)(l.g,{mode:"authenticated",children:(0,r.jsx)(o.d,{query:e,fallback:!0,children:function(n){return(0,r.jsxs)("div",{className:"w-full max-w-md px-3 sm:px-6 py-4 bg-white rounded-md shadow-sm",children:[(0,r.jsx)("h1",{className:"font-medium text-xl text-center mb-6",children:"Select Account"}),(0,r.jsx)("div",{className:"mt-3 flex flex-col border rounded-lg divide-y",children:n.map(function(n){return(0,r.jsx)(u,{account:n,isSignedIn:(null==c?void 0:c.id)===n.id,onSignIn:a},n.id)})})]})}})})}}},function(n){n.O(0,[949,774,888,179],function(){return n(n.s=5871)}),_N_E=n.O()}]);