(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8485:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return r(2155)}])},45:function(e,t,r){"use strict";r.d(t,{I:function(){return d},v:function(){return m}});var i=r(865),n=r(6297),s=r(2322),a=r(7567),o=r(1586),c=r(6277),u=r(2784),l=(0,u.forwardRef)(function(e,t){var r=e.className,a=e.type,o=(0,n.Z)(e,["className","type"]);return(0,s.jsx)("input",(0,i.Z)({ref:t,type:void 0===a?"text":a,className:(0,c.Z)("py-3 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",r)},o))});l.displayName="Input";var d=(0,a.B)(l,{WithError:function(e){var t=e.children,r=e.error,i=e.className;return(0,s.jsxs)("div",{className:(0,c.Z)("space-y-2 w-full transform transition-all",i),children:[t,(0,s.jsx)(o.u,{show:!!r,className:"transform-gpu",enter:"transition-all duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("p",{className:"px-2 text-xs text-red-400",children:r})})]})}}),m=(0,u.forwardRef)(function(e,t){var r=e.label,a=e.className,o=e.id,u=(0,n.Z)(e,["label","className","id"]);return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:o,className:"text-gray-600",children:r}),(0,s.jsx)(l,(0,i.Z)({id:o,ref:t,className:(0,c.Z)("w-full py-4",a)},u))]})});m.displayName="LabelledInput"},5034:function(e,t,r){"use strict";r.d(t,{P:function(){return o}});var i=r(865),n=r(6297),s=r(2322),a=r(6277),o=(0,r(2784).forwardRef)(function(e,t){var r=e.className,o=(0,n.Z)(e,["className"]);return(0,s.jsx)("select",(0,i.Z)({ref:t,className:(0,a.Z)("py-1 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",r)},o))});o.displayName="Select"},2155:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var i=r(865),n=r(6670),s=r(2322),a=r(7545),o=r(4649),c=r(412),u=r(45),l=r(9447),d=r(5034),m=r(385),p=r(8295),f=r(8883),b=r(9697),v=r(9644),g=r.n(v),h=r(2784),z=r(3955),j=r(2202),y=r(2066);function _(){var e,t,r,v,_,x,N=(0,a.aC)().data,w=(0,o.R2)(),O=(0,z.cI)({resolver:(0,f.F)(b.UserSchema.update)});(0,h.useEffect)(function(){N&&O.reset({phone:N.phone,address:N.address,city:N.city,state:N.state,nationality:N.nationality,ssn:N.ssn})},[N,O]);var q=O.handleSubmit(function(e){w.mutate(e,{onSuccess:function(){j.ZP.success("User information updated successfully")},onError:function(e){j.ZP.error((0,p.Z)(e))}})}),S=(0,y.useQuery)(["countries"],function(){return g().get("https://restcountries.com/v2/all").then(function(e){return e.data})},{staleTime:1/0});return(0,s.jsx)(m.c,{children:(0,s.jsx)(m.c.User,{children:(0,s.jsxs)(l.$,{children:[(0,s.jsx)(l.$.Title,{children:(0,s.jsx)("h3",{children:"User Information"})}),(0,s.jsxs)(l.$.Content,{className:"py-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-baseline",children:(0,s.jsx)("h4",{className:"font-medium",children:"Account PIN"})}),(0,s.jsx)("p",{className:"mt-2",children:"Update user information and contact details."}),(0,s.jsxs)("form",{onSubmit:q,className:"mt-2 divide-y",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"Phone"}),(0,s.jsx)(u.I.WithError,{className:"w-auto",error:null===(e=O.formState.errors.phone)||void 0===e?void 0:e.message,children:(0,s.jsx)(u.I,(0,i.Z)({className:"w-full",type:"tel"},O.register("phone")))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"Nationality"}),(0,s.jsx)(u.I.WithError,{className:"w-auto sm:w-[334px]",error:null===(t=O.formState.errors.nationality)||void 0===t?void 0:t.message,children:S.data&&(0,s.jsxs)(d.P,(0,n.Z)((0,i.Z)({className:"w-full !py-3 text-sm"},O.register("nationality")),{children:[(0,s.jsx)("option",{value:"",children:"Select Country"}),S.data.map(function(e){return(0,s.jsx)("option",{children:e.name},e.name)})]}))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"State"}),(0,s.jsx)(u.I.WithError,{className:"w-auto",error:null===(r=O.formState.errors.state)||void 0===r?void 0:r.message,children:(0,s.jsx)(u.I,(0,i.Z)({className:"w-full"},O.register("state")))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"City"}),(0,s.jsx)(u.I.WithError,{className:"w-auto",error:null===(v=O.formState.errors.city)||void 0===v?void 0:v.message,children:(0,s.jsx)(u.I,(0,i.Z)({className:"w-full"},O.register("city")))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"Home Address"}),(0,s.jsx)(u.I.WithError,{className:"w-auto",error:null===(_=O.formState.errors.address)||void 0===_?void 0:_.message,children:(0,s.jsx)(u.I,(0,i.Z)({className:"w-full"},O.register("address")))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 py-4",children:[(0,s.jsx)("p",{children:"SSN"}),(0,s.jsx)(u.I.WithError,{className:"w-auto",error:null===(x=O.formState.errors.ssn)||void 0===x?void 0:x.message,children:(0,s.jsx)(u.I,(0,i.Z)({className:"w-full",type:"tel"},O.register("ssn")))})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,s.jsx)(c.z,{disabled:!O.formState.isDirty,variant:O.formState.isDirty?"primary":"secondary",loading:w.isLoading,className:"!px-12 !py-2",children:"Save Changes"})})]})]})]})})})}},8295:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var i=r(9644),n=r.n(i);function s(e){var t,r="Something went wrong";if(!n().isAxiosError(e))return r;var i=null===(t=e.response)||void 0===t?void 0:t.data;return i&&"object"==typeof i&&i.message||r}},9814:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentStatus=t.AccountLevels=t.AccountTypes=void 0,t.AccountTypes=["savings","checking"],t.AccountLevels=["premier","platinum"],t.DocumentStatus=["idle","reviewing","accepted","rejected"]},5451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3030:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1527:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1675:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5445:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1693:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(9814),t),n(r(5451),t),n(r(3030),t),n(r(1527),t),n(r(1675),t),n(r(9706),t),n(r(5445),t),n(r(4995),t),n(r(9239),t),n(r(8497),t),n(r(251),t),n(r(2639),t)},4995:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},251:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2639:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9697:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1693),t),n(r(6139),t)},7620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSchema=void 0;let i=r(6750),n=r(1693);class s{}t.AccountSchema=s,s.update=i.z.object({name:i.z.string().min(1,"name is required"),pin:i.z.string().length(4,"pin must be 4 characters").optional()}),s.adminCreate=i.z.object({name:i.z.string().min(1,"account name is required"),type:i.z.enum(n.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:i.z.enum(n.AccountLevels,{errorMap:()=>({message:"invalid account level"})})}),s.adminUpdate=i.z.object({name:i.z.string().min(1,"account name is required"),type:i.z.enum(n.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:i.z.enum(n.AccountLevels,{errorMap:()=>({message:"invalid account level"})}),pin:i.z.string().length(4,"pin must be 4 characters").nullable(),isActive:i.z.boolean(),externalAccount:i.z.object({accountNumber:i.z.string().min(1,"account number is required"),routingNumber:i.z.string().min(1,"routing number is required")}).nullable(),alert:i.z.object({title:i.z.string().min(1,"title is required"),desc:i.z.string().min(1,"description is required")}).nullable(),documentRequest:i.z.object({name:i.z.string().min(1,"name is required"),desc:i.z.string().min(1,"description is required"),status:i.z.enum(n.DocumentStatus,{errorMap:()=>({message:"invalid document status"})})}).nullable(),permissions:i.z.object({canTransfer:i.z.boolean(),canTransferExternal:i.z.boolean(),canWithdraw:i.z.boolean(),canSetPin:i.z.boolean()})})},8117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthSchema=void 0;let i=r(6750),n=r(1693);class s{}t.AuthSchema=s,s.login=i.z.object({email:i.z.string().email(),password:i.z.string().min(8,"password should be at least 8 characters")}),s.register=i.z.object({email:i.z.string().email(),firstName:i.z.string().min(1,"first name is required"),lastName:i.z.string().min(1,"last name is required"),phone:i.z.string().min(1,"phone is required"),city:i.z.string().min(1,"city is required"),state:i.z.string().min(1,"state is required"),nationality:i.z.string().min(1,"country is required"),address:i.z.string().min(1,"address is required"),accountType:i.z.enum(n.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),password:i.z.string().min(8,"password should be at least 8 characters")})},5936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BonusSchema=void 0;let i=r(6750),n=r(5170);class s{}t.BonusSchema=s,s.adminCreate=i.z.object({amount:i.z.number().positive()}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),createdAt:n.zDate.optional()})},8096:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChargeSchema=void 0;let i=r(6750),n=r(5170);class s{}t.ChargeSchema=s,s.adminCreate=i.z.object({amount:i.z.number().positive()}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),createdAt:n.zDate.optional()})},5244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DepositSchema=void 0;let i=r(6750),n=r(5170);class s{}t.DepositSchema=s,s.adminCreate=i.z.object({amount:i.z.number().positive()}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),createdAt:n.zDate.optional()})},7157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSchema=void 0;let i=r(6750);class n{}t.DocumentSchema=n,n.create=i.z.object({name:i.z.string().min(1,"document name is required"),url:i.z.string().url("invalid document url")})},84:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailSchema=void 0;let i=r(6750);class n{}t.EmailSchema=n,n.send=i.z.object({receiver:i.z.string().email(),subject:i.z.string().min(1,"subject is required"),body:i.z.string().min(1,"body is required")})},5031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalTransferOutSchema=t.ExternalTransferInSchema=void 0;let i=r(6750),n=r(5170);class s{}t.ExternalTransferInSchema=s,s.adminCreate=i.z.object({amount:i.z.number().positive(),accountName:i.z.string().min(1,"acount name is required"),bankName:i.z.string().min(1,"bank name is required")}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),accountName:i.z.string().min(1,"account name is required"),bankName:i.z.string().min(1,"bank name is required"),createdAt:n.zDate.optional()});class a{}t.ExternalTransferOutSchema=a,a.create=i.z.object({pin:i.z.string().min(1,"transaction pin is required"),amount:i.z.number().positive(),accountNumber:i.z.string().min(1,"account number is required"),routingNumber:i.z.string().min(1,"routing number is required")}),a.adminCreate=i.z.object({amount:i.z.number().positive(),accountNumber:i.z.string().min(1,"account number is required"),routingNumber:i.z.string().min(1,"routing number is required")}),a.adminUpdate=i.z.object({amount:i.z.number().positive(),accountNumber:i.z.string().min(1,"account number is required"),routingNumber:i.z.string().min(1,"routing number is required"),createdAt:n.zDate.optional()})},6139:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(7620),t),n(r(8117),t),n(r(5936),t),n(r(8096),t),n(r(5244),t),n(r(7157),t),n(r(84),t),n(r(5031),t),n(r(5161),t),n(r(2282),t),n(r(731),t),n(r(7041),t),n(r(7997),t)},5161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSchema=void 0;let i=r(6750);class n{}t.TokenSchema=n,n.verify=i.z.object({token:i.z.string()})},2282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},731:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransferOutSchema=void 0;let i=r(6750),n=r(5170);class s{}t.TransferOutSchema=s,s.create=i.z.object({pin:i.z.string().min(1,"transaction pin is required"),amount:i.z.number({invalid_type_error:"Invalid amount"}).positive(),accountNumber:i.z.string().min(1,"account number is required")}),s.adminCreate=i.z.object({amount:i.z.number().positive(),accountNumber:i.z.string().min(1,"account number is required")}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),createdAt:n.zDate.optional()})},7041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserSchema=void 0;let i=r(6750);class n{}t.UserSchema=n,n.update=i.z.object({phone:i.z.string().min(1,"phone is required"),address:i.z.string().min(1,"address is required").optional(),city:i.z.string().min(1,"city is required").optional(),state:i.z.string().min(1,"state is required").optional(),nationality:i.z.string().min(1,"nationality is required").optional(),ssn:i.z.string().optional()}),n.adminCreate=i.z.object({email:i.z.string().email(),firstName:i.z.string().min(1,"first name is required"),lastName:i.z.string().min(1,"last name is required"),password:i.z.string().min(8,"password should be at least 8 characters"),isAdmin:i.z.boolean(),isVerified:i.z.boolean()}),n.adminUpdate=i.z.object({firstName:i.z.string().min(1,"first name is required"),lastName:i.z.string().min(1,"last name is required"),phone:i.z.string().min(1,"phone is required"),address:i.z.string().min(1,"address is required").optional(),city:i.z.string().min(1,"city is required").optional(),state:i.z.string().min(1,"state is required").optional(),nationality:i.z.string().min(1,"nationality is required").optional(),ssn:i.z.string().optional(),password:i.z.string().min(8,"password should be at least 8 characters"),isAdmin:i.z.boolean(),isVerified:i.z.boolean()})},5170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zDate=void 0;let i=r(6750);t.zDate=i.z.preprocess(e=>{if("string"==typeof e||e instanceof Date)return new Date(e)},i.z.date({invalid_type_error:"invalid date"}))},7997:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawalSchema=void 0;let i=r(6750),n=r(5170);class s{}t.WithdrawalSchema=s,s.create=i.z.object({pin:i.z.string().min(1,"transaction pin is required"),amount:i.z.number().positive(),method:i.z.string().min(1,"withdrawal method is required")}),s.adminCreate=i.z.object({amount:i.z.number().positive(),method:i.z.string().min(1,"withdrawal method is required")}),s.adminUpdate=i.z.object({amount:i.z.number().positive(),method:i.z.string().min(1,"withdrawal method is required"),createdAt:n.zDate.optional()})}},function(e){e.O(0,[949,226,955,383,385,774,888,179],function(){return e(e.s=8485)}),_N_E=e.O()}]);