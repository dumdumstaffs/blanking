(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{2907:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return t(7685)}])},9213:function(e,n,t){"use strict";t.d(n,{d:function(){return i}});var r=t(2322),s=t(6277),a=t(5392);function i(e){var n=e.query,t=e.children,i=e.fallback,c=e.className;return n.isLoading?(0,r.jsx)("div",{className:(0,s.Z)("h-full w-full flex-center",c),children:(0,r.jsx)(a.$,{className:"w-8 h-8 text-white"})}):n.isSuccess?(0,r.jsx)(r.Fragment,{children:t(n.data)}):i?!0===i||"string"==typeof i?(0,r.jsx)("div",{className:(0,s.Z)("h-full w-full flex-center",c),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof i?i:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:i}):(0,r.jsx)(r.Fragment,{children:t(void 0)})}},9744:function(e,n,t){"use strict";t.d(n,{d:function(){return c},u:function(){return l}});var r=t(2322),s=t(1586),a=t(6875),i=t(2784);function c(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,i.useState)(!1),t=n[0],r=n[1],s=function(){return r(function(e){return!e})};return[s,{isOpen:t,onClose:s,backdropClose:e}]}function l(e){var n=e.title,t=e.isOpen,c=e.onClose,l=e.backdropClose,o=e.children;return(0,r.jsx)(s.u,{appear:!0,show:t,as:i.Fragment,children:(0,r.jsxs)(a.V,{as:"div",className:"relative z-10 text-sm",onClose:void 0===l||l?c:function(){},children:[(0,r.jsx)(s.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 ",children:(0,r.jsx)(s.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(a.V.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-md bg-white px-3 py-4 md:px-6 md:py-6 align-middle shadow-xl transition-all",children:[n&&(0,r.jsx)(a.V.Title,{className:"mb-6 md:text-lg text-center font-medium leading-6 text-gray-900",children:n}),o]})})})})]})})}},9951:function(e,n,t){"use strict";t.d(n,{E:function(){return c}});var r=t(2322),s=t(6058),a=t(6277),i=t(2784);function c(e){var n=e.icon,t=e.title;return(0,r.jsx)(s.O,{as:i.Fragment,children:function(e){var s=e.selected;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 outline-none cursor-pointer group",children:[(0,r.jsx)("div",{className:(0,a.Z)(["flex-center w-10 h-10 sm:w-12 sm:h-12 border rounded-md text-gray-700",s?"bg-theme-1/10 border-transparent ring-2 ring-theme-1/40":"group-hover:border-transparent group-hover:ring-2 group-hover:ring-theme-1/30"]),children:n}),(0,r.jsx)("span",{className:"text-[10px] sm:text-xs text-center",children:t})]})}})}},3521:function(e,n,t){"use strict";t.d(n,{F:function(){return a}});var r=t(2322),s=t(6277);function a(e){var n=e.title,t=e.content,a=e.className;return(0,r.jsxs)("div",{className:(0,s.Z)("flex items-center justify-between",a),children:[(0,r.jsx)("p",{className:"font-medium",children:n}),(0,r.jsx)("p",{children:t})]})}},45:function(e,n,t){"use strict";t.d(n,{I:function(){return d},v:function(){return m}});var r=t(865),s=t(6297),a=t(2322),i=t(7567),c=t(1586),l=t(6277),o=t(2784),u=(0,o.forwardRef)(function(e,n){var t=e.className,i=e.type,c=(0,s.Z)(e,["className","type"]);return(0,a.jsx)("input",(0,r.Z)({ref:n,type:void 0===i?"text":i,className:(0,l.Z)("py-3 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",t)},c))});u.displayName="Input";var d=(0,i.B)(u,{WithError:function(e){var n=e.children,t=e.error,r=e.className;return(0,a.jsxs)("div",{className:(0,l.Z)("space-y-2 w-full transform transition-all",r),children:[n,(0,a.jsx)(c.u,{show:!!t,className:"transform-gpu",enter:"transition-all duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("p",{className:"px-2 text-xs text-red-400",children:t})})]})}}),m=(0,o.forwardRef)(function(e,n){var t=e.label,i=e.className,c=e.id,o=(0,s.Z)(e,["label","className","id"]);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:c,className:"text-gray-600",children:t}),(0,a.jsx)(u,(0,r.Z)({id:c,ref:n,className:(0,l.Z)("w-full py-4",i)},o))]})});m.displayName="LabelledInput"},952:function(e,n,t){"use strict";t.d(n,{D:function(){return h}});var r=t(865),s=t(6670),a=t(2322),i=t(930),c=t(1899),l=t(412),o=t(45),u=t(2784);function d(e){var n=e.pinLength,t=e.message,r=e.onSubmit,s=(0,u.useState)(""),d=s[0],m=s[1],x=(0,u.useState)([]),h=x[0],p=x[1],v=(0,u.useCallback)(function(e){p(function(n){return(0,i.Z)(n).concat([e])})},[]),j=function(e){e.preventDefault(),d.length===n&&r(d)};return(0,a.jsxs)("form",{onSubmit:j,children:[(0,a.jsx)("p",{className:"text-center text-gray-700",children:t}),(0,a.jsx)("div",{className:"flex justify-between gap-4 h-16 sm:h-20 my-12",children:Array.from({length:n}).map(function(e,t){return(0,a.jsx)(o.I,{ref:v,onChange:function(){var e;return function(e){var n=e.inputs,t=e.index,r=e.value,s=e.setValue,a=e.pinLength,i=n[t];if(i){if(r.length-1===t&&""===i.value){s(function(e){return e.slice(0,-1)});return}if(r.length!==t){i.value=null!==(o=r[t])&&void 0!==o?o:"";return}if(1===i.value.length){if(!f(i.value)){i.value=null!==(u=r[t])&&void 0!==u?u:"";return}if(s(function(e){return e+i.value}),t!==a-1){var l=n[t+1];null==l||l.focus()}return}if(i.value.length>1&&0===t){var o,u,d,m=function(e){var r=n[t+e];if(!r)return{v:void 0};r.value=x[e],s(function(n){return n+x[e]}),e===x.length-1&&r.focus()},x=i.value.split("");if(x.length!==a||!x.every(f)){i.value=null!==(d=r[t])&&void 0!==d?d:"";return}for(var h=0;h<x.length;h++){var p=m(h);if("object"===(0,c.Z)(p))return p.v}return}}}({inputs:h,index:t,pinLength:n,value:d,setValue:m})},type:"tel",className:"text-center text-3xl h-full w-full bg-gray-100"},t)})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(l.z,{className:"!px-12 !py-2",children:"Confirm"})})]})}var m=["0","1","2","3","4","5","6","7","8","9"],f=function(e){return m.includes(e)},x=t(9744);function h(e){var n=e.title,t=e.message,i=e.onVerify,c=e.controls,l=function(e){i(e),c.onClose()};return(0,a.jsx)(x.u,(0,s.Z)((0,r.Z)({title:n},c),{children:(0,a.jsx)(d,{message:t,pinLength:4,onSubmit:l})}))}},7685:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var r=t(2322),s=t(7545),a=t(9951),i=t(9447),c=t(412),l=t(3521),o=t(5848),u=t(8720),d=t(7181),m=t(3912);function f(){var e=(0,u.Mq)(),n=e.account,t=e.signOut,a=(0,s.aC)().data;return a?(0,r.jsxs)(i.$.Content,{className:"!py-6",children:[(0,r.jsx)("div",{className:"flex-center",children:(0,r.jsx)(m.Z,{className:"w-28 h-28 p-3 rounded-full text-sky-800 bg-sky-500"})}),(0,r.jsxs)("div",{className:"mt-6 divide-y",children:[(0,r.jsx)(l.F,{className:"py-4",title:"Account name",content:n.name}),(0,r.jsx)(l.F,{className:"py-4",title:"Account holder",content:a.firstName+" "+a.lastName}),(0,r.jsx)(l.F,{className:"py-4",title:"Account type",content:(0,d.k)(n.level+" "+n.type)}),(0,r.jsx)(l.F,{className:"py-4",title:"Account status",content:n.isActive?"Active":"Inactive"}),(0,r.jsx)("div",{className:"py-4",children:(0,r.jsx)(o.t,{href:{pathname:"/account",query:{t:"manage"}},children:"Manage Account"})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(c.z,{onClick:t,children:"Sign Out"})})]}):null}var x=t(8983),h=t(2784);let p=h.forwardRef(function({title:e,titleId:n,...t},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":n},t),e?h.createElement("title",{id:n},e):null,h.createElement("path",{fillRule:"evenodd",d:"M13.2 2.24a.75.75 0 00.04 1.06l2.1 1.95H6.75a.75.75 0 000 1.5h8.59l-2.1 1.95a.75.75 0 101.02 1.1l3.5-3.25a.75.75 0 000-1.1l-3.5-3.25a.75.75 0 00-1.06.04zm-6.4 8a.75.75 0 00-1.06-.04l-3.5 3.25a.75.75 0 000 1.1l3.5 3.25a.75.75 0 101.02-1.1l-2.1-1.95h8.59a.75.75 0 000-1.5H4.66l2.1-1.95a.75.75 0 00.04-1.06z",clipRule:"evenodd"}))});function v(e){var n=e.account,t=e.onSwitch,s=e.isSignedIn;return(0,r.jsxs)("div",{className:"grid items-baseline grid-cols-6 sm:grid-cols-8 px-2 sm:px-4 py-4 group even:bg-gray-50 cursor-pointer",children:[(0,r.jsx)("span",{className:"col-span-2 sm:col-span-2 text-xs sm:text-sm",children:new Date(n.createdAt).toLocaleDateString()}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-4 flex flex-col",children:[(0,r.jsx)("span",{className:"text-theme-1 font-medium group-hover:underline",children:n.name}),(0,r.jsx)("span",{className:"text-xs",children:n.accountNumber})]}),(0,r.jsx)("div",{className:"col-span-2 sm:col-span-2 my-auto flex justify-end",children:s?(0,r.jsx)(c.z,{variant:"transparent-dark",className:"rounded-md gap-2 !px-2",children:(0,r.jsx)("span",{className:"italic font-light",children:"Signed In"})}):(0,r.jsxs)(c.z,{onClick:function(){return t(n.id)},variant:"transparent-dark",className:"rounded-md gap-2 !px-2",children:[(0,r.jsx)("span",{children:"Switch"}),(0,r.jsx)(p,{className:"w-4 h-4"})]})})]})}var j=t(9213);function g(){var e=(0,u.Mq)(),n=e.account,t=e.signIn,s=(0,x.xe)();return(0,r.jsx)(i.$.Content,{className:"flex flex-col",children:(0,r.jsx)(j.d,{query:s,fallback:!0,children:function(e){return e.map(function(e){return(0,r.jsx)(v,{account:e,isSignedIn:n.id===e.id,onSwitch:t},e.id)})}})})}var N=t(6383),y=t(9744),b=t(8295),w=t(2202),Z=t(952);function A(){return(0,r.jsxs)(i.$.Content,{children:[(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Account PIN"}),(0,r.jsx)("p",{className:"mt-2",children:"Use Account PIN to authorize transactions on your account."}),(0,r.jsx)(C,{})]}),(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsx)("h4",{className:"font-medium",children:"External Account"}),(0,r.jsx)("p",{className:"mt-2",children:"Receive money from other banks using your external account."}),(0,r.jsx)(P,{})]}),(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsxs)("h4",{className:"font-medium",children:["Account Level ","&"," Limits"]}),(0,r.jsx)("p",{className:"mt-2",children:"Upgrade your account to fit your transaction volume."}),(0,r.jsx)(k,{})]})]})}function C(){var e=(0,u.Mq)().account,n=(0,x._l)(),t=(0,h.useState)(),s=t[0],a=t[1],i=(0,N.Z)((0,y.d)(),2),l=i[0],o=i[1],d=function(){return(0,w.ZP)("Please send us a formal request via email to enabled use of transaction PIN for this account.")},m=function(){return l()},f=function(e){a(e),l()},p=function(t){if(t!==s)return a(void 0),w.ZP.error("PIN does not match");n.mutate({id:e.id,dto:{name:e.name,pin:t}},{onSuccess:function(){w.ZP.success("PIN changed successfully")},onError:function(e){w.ZP.error((0,b.Z)(e))}})};return(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"PIN Enabled"}),(0,r.jsx)("p",{children:e.pin?"Yes":"No"})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:e.permissions.canSetPin?(0,r.jsx)(c.z,{onClick:m,children:e.pin?"Change Pin":"Create Pin"}):(0,r.jsx)(c.z,{onClick:d,children:"Request Pin"})}),(0,r.jsx)(Z.D,{title:s?"Confirm New PIN":"Enter New Pin",message:"Please enter your transaction PIN to complete this action",onVerify:s?p:f,controls:o},s)]})}function P(){var e=(0,u.Mq)().account,n=function(){return(0,w.ZP)("Please send us a formal request via email to provision an external account for this account.")};return(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"Account Number"}),(0,r.jsx)("p",{children:e.externalAccount?e.externalAccount.accountNumber:"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"Routing Number"}),(0,r.jsx)("p",{children:e.externalAccount?e.externalAccount.routingNumber:"N/A"})]}),!e.externalAccount&&(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,r.jsx)(c.z,{onClick:n,children:"Request External Account"})})]})}function k(){var e=(0,u.Mq)().account,n=function(){return(0,w.ZP)("Please contact support for account upgrade.")};return(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"Account Level"}),(0,r.jsx)("p",{children:(0,d.k)(e.level)})]}),"premier"===e.level&&(0,r.jsx)("div",{className:"flex justify-end pt-4",children:(0,r.jsx)(c.z,{onClick:n,children:"Request Upgrade"})})]})}var E=t(8503),S=t(6058);let I=h.forwardRef(function({title:e,titleId:n,...t},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":n},t),e?h.createElement("title",{id:n},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))});var F=t(6824),O=t(9855),q=t(5632),z=["info","manage","all"];function L(){var e=(0,q.useRouter)(),n=e.query.t,t=(0,h.useState)(0),c=t[0],l=t[1],o=function(n){e.push({pathname:"/account",query:{t:z[n]}})};if("string"==typeof n&&z.includes(n)){var u=z.indexOf(n);u!==c&&l(u)}if((0,s.aC)().data)return(0,r.jsx)(E.c,{mode:"all",children:(0,r.jsx)(E.c.Account,{children:(0,r.jsx)(i.$,{children:(0,r.jsxs)(S.O.Group,{selectedIndex:c,onChange:o,children:[(0,r.jsxs)(S.O.List,{className:"py-6 flex items-center justify-around",children:[(0,r.jsx)(a.E,{title:"Account Info",icon:(0,r.jsx)(I,{className:"w-6 h-6"})}),(0,r.jsx)(a.E,{title:"Manage Account",icon:(0,r.jsx)(F.Z,{className:"w-6 h-6"})}),(0,r.jsx)(a.E,{title:"All Accounts",icon:(0,r.jsx)(O.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)(S.O.Panels,{className:"border-t min-h-[400px]",children:[(0,r.jsx)(S.O.Panel,{children:(0,r.jsx)(f,{})}),(0,r.jsx)(S.O.Panel,{children:(0,r.jsx)(A,{})}),(0,r.jsx)(S.O.Panel,{children:(0,r.jsx)(g,{})})]})]})})})})}},8295:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(9644),s=t.n(r);function a(e){var n,t="Something went wrong";if(!s().isAxiosError(e))return t;var r=null===(n=e.response)||void 0===n?void 0:n.data;return r&&"object"==typeof r&&r.message||t}},7181:function(e,n,t){"use strict";function r(e){return e?e[0].toUpperCase()+e.slice(1):""}t.d(n,{k:function(){return r}})},930:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(630),s=t(8366),a=t(5459);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,s.Z)(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1899:function(e,n,t){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[949,599,875,290,503,774,888,179],function(){return e(e.s=2907)}),_N_E=e.O()}]);