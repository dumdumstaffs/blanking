(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{492:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(6526)}])},7545:function(e,r,t){"use strict";t.d(r,{oc:function(){return v},aC:function(){return y},YA:function(){return j},_y:function(){return N},l4:function(){return w},Mp:function(){return Z},Su:function(){return _}});var n=t(8788),s=t(5163),i=t(7079);function a(e){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/login",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(function(){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,i.dJ.get("/auth/profile")];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/register",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/verify",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function h(){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(function(){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,i.dJ.post("/auth/verify/request")];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}var x=t(5148),g=t(2066),v=(0,x.no)("auth"),y=function(){return(0,g.useQuery)(v._def,c,{retry:!1})},j=function(){var e=(0,g.useQueryClient)();return(0,g.useMutation)(a,{onSuccess:function(r){var t=r.token;return(0,i.o4)(t),e.invalidateQueries(v._def)}})},w=function(){return(0,g.useMutation)(u)},N=function(){var e=(0,g.useQueryClient)();return(0,g.useMutation)((0,n.Z)(function(){return(0,s.__generator)(this,function(e){return[2,(0,i.gy)()]})}),{onMutate:function(){return e.cancelQueries(v._def)},onSuccess:function(){return e.invalidateQueries(v._def)}})},Z=function(){var e=(0,g.useQueryClient)();return(0,g.useMutation)(m,{onSuccess:function(){return e.invalidateQueries(v._def)}})},_=function(){return(0,g.useMutation)(h)}},412:function(e,r,t){"use strict";t.d(r,{p:function(){return d},z:function(){return u}});var n=t(865),s=t(6670),i=t(6297),a=t(2322),o=t(6277),c=t(2784),l=t(5392),u=(0,c.forwardRef)(function(e,r){var t=e.loading,c=e.variant,u=void 0===c?"primary":c,d=e.className,m=e.children,f=(0,i.Z)(e,["loading","variant","className","children"]);return(0,a.jsx)("button",(0,s.Z)((0,n.Z)({ref:r,disabled:t},f),{className:(0,o.Z)(["flex-center px-4 py-2 border font-medium","focus:outline-none focus:ring-2 focus:ring-theme-1 focus:ring-offset-1","primary"===u&&["border-theme-1 bg-theme-1 text-white font-medium",],"critical"===u&&["border-red-100 bg-red-100 text-red-700 focus:!ring-red-700"],"secondary"===u&&["text-gray-800"],d,]),children:t?(0,a.jsx)(l.$,{className:"w-5 h-5"}):m}))});u.displayName="Button";var d=function(e){var r=e.onClick,t=e.variant,o=e.children,l=(0,i.Z)(e,["onClick","variant","children"]),d=(0,c.useState)(!1),m=d[0],f=d[1],h=function(){return f(!0)},p=function(){return f(!1)},x=function(e){f(!1),r(e)};return m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,(0,s.Z)((0,n.Z)({},l),{variant:"secondary",onClick:p,children:"Cancel"})),(0,a.jsx)(u,(0,s.Z)((0,n.Z)({},l),{variant:"critical",onClick:x,children:"Proceed"}))]}):(0,a.jsx)(u,(0,s.Z)((0,n.Z)({},l),{variant:void 0===t?"critical":t,onClick:h,children:o}))}},1396:function(e,r,t){"use strict";t.d(r,{g:function(){return d}});var n=t(865),s=t(6670),i=t(2322),a=t(7545),o=t(4005),c=t(4819),l=t(7729),u=t.n(l);function d(e){var r,t=e.mode,l=e.description,d=e.children,m=(0,a.aC)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u(),{children:[(0,i.jsx)("title",{children:c.$.app.NAME}),(0,i.jsx)("meta",{name:"description",content:(l?l+" | ":"")+"Premium Edge Bank - Banking, Loan & Insurance"}),(0,i.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/favicon.png"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0",id:"viewport"})]}),(0,i.jsx)("div",{className:"bg-gray-100 text-sm",children:(0,i.jsx)(o.n,(0,s.Z)((0,n.Z)({query:m},"unverified"===(r=void 0===t?"guest":t)?{showOn:"success",redirectTo:"/signin",onSuccessRedirectCondition:function(e){if(e.isVerified)return"/"}}:"authenticated"===r?{showOn:"success",redirectTo:"/signin"}:"guest"===r?{showOn:"failure",redirectTo:"/"}:{showOn:"all"}),{children:(0,i.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-12 md:pt-16",children:d})}))})]})}},6526:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return P}});var n=t(865),s=t(6670),i=t(6297),a=t(2322),o=t(7545),c=t(412),l=t(45),u=t(5034),d=t(4819),m=t(1396),f=t(8295),h=t(7181),p=t(8883),x=t(9697),g=t(9644),v=t.n(g),y=t(6577),j=t.n(y),w=t(9097),N=t.n(w),Z=t(5632),_=t(3955),b=t(2202),I=t(2066),S=t(6901),E=x.AuthSchema.register.extend({confirmPassword:S.z.string()}).refine(function(e){return e.password===e.confirmPassword},{message:"passwords do not match",path:["confirmPassword"]});function P(){var e,r,t,g,y,w,S,P,C,k,A,M,W=(0,Z.useRouter)(),T=(0,o.l4)(),Q=(0,_.cI)({resolver:(0,p.F)(E)}),O=Q.handleSubmit(function(e){e.confirmPassword;var r=(0,i.Z)(e,["confirmPassword"]);console.log(r),T.mutate(r,{onSuccess:function(){b.ZP.success("Account created successfully, please login"),W.push("/signin")},onError:function(e){b.ZP.error((0,f.Z)(e),{id:"signup"})}})},console.log),B=(0,I.useQuery)(["countries"],function(){return v().get("https://restcountries.com/v2/all").then(function(e){return e.data})},{staleTime:1/0});return(0,a.jsxs)(m.g,{description:"Sign Up",children:[(0,a.jsxs)("div",{className:"w-full max-w-lg py-4 bg-white rounded-md shadow-sm",children:[(0,a.jsxs)("div",{className:"px-3 sm:px-6 pb-2 border-b",children:[(0,a.jsxs)("div",{className:"flex gap-2 justify-center items-center py-4 mb-6",children:[(0,a.jsx)("div",{className:"flex-center",children:(0,a.jsx)(j(),{alt:"logo",src:"/favicon.png",width:32,height:32})}),(0,a.jsx)("p",{className:"text-xl font-medium leading-tight",children:d.$.app.NAME})]}),(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-800",children:"Sign In"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Please fill in your registration details"})]}),(0,a.jsx)("div",{className:"px-3 sm:px-6",children:(0,a.jsxs)("form",{onSubmit:O,className:"space-y-4 py-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Personal Information"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(e=Q.formState.errors.firstName)||void 0===e?void 0:e.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"First Name"},Q.register("firstName")))}),(0,a.jsx)(l.I.WithError,{error:null===(r=Q.formState.errors.lastName)||void 0===r?void 0:r.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Last Name"},Q.register("lastName")))})]}),(0,a.jsx)(l.I.WithError,{error:null===(t=Q.formState.errors.email)||void 0===t?void 0:t.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Email Address"},Q.register("email")))}),(0,a.jsx)(l.I.WithError,{error:null===(g=Q.formState.errors.phone)||void 0===g?void 0:g.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Mobile Phone Number"},Q.register("phone")))}),(0,a.jsx)("p",{className:"pt-4 text-gray-600",children:"Residential Information"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(y=Q.formState.errors.state)||void 0===y?void 0:y.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"State"},Q.register("state")))}),(0,a.jsx)(l.I.WithError,{error:null===(w=Q.formState.errors.city)||void 0===w?void 0:w.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"City"},Q.register("city")))})]}),(0,a.jsx)(l.I.WithError,{error:null===(S=Q.formState.errors.nationality)||void 0===S?void 0:S.message,children:(0,a.jsxs)(u.P,(0,s.Z)((0,n.Z)({className:"w-full !py-3 text-sm"},Q.register("nationality")),{children:[(0,a.jsx)("option",{value:"",children:"Select Country"}),null===(P=B.data)||void 0===P?void 0:P.map(function(e){return(0,a.jsx)("option",{children:e.name},e.name)})]}))}),(0,a.jsx)(l.I.WithError,{error:null===(C=Q.formState.errors.address)||void 0===C?void 0:C.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Address"},Q.register("address")))}),(0,a.jsx)("p",{className:"pt-4 text-gray-600",children:"Account Information"}),(0,a.jsx)(l.I.WithError,{error:null===(k=Q.formState.errors.accountType)||void 0===k?void 0:k.message,children:(0,a.jsxs)(u.P,(0,s.Z)((0,n.Z)({className:"w-full !py-3 text-sm"},Q.register("accountType")),{children:[(0,a.jsx)("option",{value:"",children:"Select Account Type"}),x.AccountTypes.map(function(e){return(0,a.jsx)("option",{value:e,children:(0,h.k)(e)},e)})]}))}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(A=Q.formState.errors.password)||void 0===A?void 0:A.message,children:(0,a.jsx)(l.I,(0,n.Z)({type:"password",className:"w-full py-4 text-sm",placeholder:"Password"},Q.register("password")))}),(0,a.jsx)(l.I.WithError,{error:null===(M=Q.formState.errors.confirmPassword)||void 0===M?void 0:M.message,children:(0,a.jsx)(l.I,(0,n.Z)({type:"password",className:"w-full py-4 text-sm",placeholder:"Confirm Password"},Q.register("confirmPassword")))})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"By continuing, you confirm that you are the owner or primary user of this mobile phone number and email address. You agree to receive automated and account critical emails to this email address."}),(0,a.jsxs)("p",{className:"text-gray-500 text-center",children:["I already have an account",(0,a.jsx)(N(),{href:"/signin",children:(0,a.jsx)("a",{className:"ml-1 text-theme-1 font-medium",children:"Sign In"})})]}),(0,a.jsx)("div",{className:"pt-3 w-full",children:(0,a.jsx)(c.z,{loading:T.isLoading,className:"!py-3 rounded-sm w-full",children:"Sign Up"})})]})})]}),(0,a.jsxs)("p",{className:"mt-3 text-xs text-gray-500 text-center",children:["\xa9 ",d.$.app.NAME," ",new Date().getFullYear()]})]})}},7567:function(e,r,t){"use strict";t.d(r,{B:function(){return o}});var n=t(7842),s=t(865),i=t(6670),a=t(6383);function o(e,r){return Object.defineProperties(e,Object.entries(r).reduce(function(e,r){var t=(0,a.Z)(r,2),o=t[0],c=t[1];return(0,i.Z)((0,s.Z)({},e),(0,n.Z)({},o,{value:c}))},{})),e}}},function(e){e.O(0,[949,955,383,599,195,332,774,888,179],function(){return e(e.s=492)}),_N_E=e.O()}]);