(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{492:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(6526)}])},7545:function(e,r,t){"use strict";t.d(r,{oc:function(){return j},aC:function(){return w},YA:function(){return b},_y:function(){return _},l4:function(){return Z},yI:function(){return N},Mp:function(){return S},Su:function(){return I}});var n=t(8788),s=t(5163),i=t(7079);function a(e){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/request-otp",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/login",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(function(){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,i.dJ.get("/auth/profile")];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/register",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(function(e){var r;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,i.dJ.post("/auth/verify",e)];case 1:return[2,r.sent().data]}})})).apply(this,arguments)}function x(){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(function(){var e;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[4,i.dJ.post("/auth/verify/request")];case 1:return[2,e.sent().data]}})})).apply(this,arguments)}var v=t(5148),y=t(2066),j=(0,v.no)("auth"),w=function(){return(0,y.useQuery)(j._def,l,{retry:!1})},N=function(){return(0,y.useMutation)(a)},b=function(){var e=(0,y.useQueryClient)();return(0,y.useMutation)(c,{onSuccess:function(r){var t=r.token;return(0,i.o4)(t),e.invalidateQueries(j._def)}})},Z=function(){return(0,y.useMutation)(f)},_=function(){var e=(0,y.useQueryClient)();return(0,y.useMutation)((0,n.Z)(function(){return(0,s.__generator)(this,function(e){return[2,(0,i.gy)()]})}),{onMutate:function(){return e.cancelQueries(j._def)},onSuccess:function(){return e.invalidateQueries(j._def)}})},S=function(){var e=(0,y.useQueryClient)();return(0,y.useMutation)(m,{onSuccess:function(){return e.invalidateQueries(j._def)}})},I=function(){return(0,y.useMutation)(x)}},9680:function(e,r,t){"use strict";t.d(r,{F:function(){return o}});var n=t(9644),s=t.n(n),i=t(2066),a=function(){return s().get("https://restcountries.com/v2/all").then(function(e){return e.data})},o=function(){return(0,i.useQuery)(["countries"],a,{staleTime:1/0})}},412:function(e,r,t){"use strict";t.d(r,{p:function(){return d},z:function(){return l}});var n=t(865),s=t(6670),i=t(6297),a=t(2322),o=t(6277),c=t(2784),u=t(5392),l=(0,c.forwardRef)(function(e,r){var t=e.loading,c=e.variant,l=void 0===c?"dark":c,d=e.className,f=e.children,h=(0,i.Z)(e,["loading","variant","className","children"]);return(0,a.jsx)("button",(0,s.Z)((0,n.Z)({ref:r,disabled:t},h),{className:(0,o.Z)(["flex-center px-4 py-2 border font-medium","focus:outline-none focus:ring-2 focus:ring-theme-1 focus:ring-offset-1","light"===l&&["border-white bg-white text-gray-800",],"dark"===l&&["border-blue-900 bg-blue-900 text-white",],"critical"===l&&["border-red-100 bg-red-100 text-red-700 focus:!ring-red-700"],"transparent-light"===l&&["border-white text-white"],"transparent-dark"===l&&["border-gray-200 text-gray-800"],d,]),children:t?(0,a.jsx)(u.$,{className:"w-5 h-5"}):f}))});l.displayName="Button";var d=function(e){var r=e.onClick,t=e.variant,o=e.children,u=(0,i.Z)(e,["onClick","variant","children"]),d=(0,c.useState)(!1),f=d[0],h=d[1],m=function(){return h(!0)},p=function(){return h(!1)},x=function(e){h(!1),r(e)};return f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,(0,s.Z)((0,n.Z)({},u),{variant:"dark",onClick:p,children:"Cancel"})),(0,a.jsx)(l,(0,s.Z)((0,n.Z)({},u),{variant:"critical",onClick:x,children:"Proceed"}))]}):(0,a.jsx)(l,(0,s.Z)((0,n.Z)({},u),{variant:void 0===t?"critical":t,onClick:m,children:o}))}},5034:function(e,r,t){"use strict";t.d(r,{P:function(){return o}});var n=t(865),s=t(6297),i=t(2322),a=t(6277),o=(0,t(2784).forwardRef)(function(e,r){var t=e.className,o=(0,s.Z)(e,["className"]);return(0,i.jsx)("select",(0,n.Z)({ref:r,className:(0,a.Z)("py-1 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",t)},o))});o.displayName="Select"},1396:function(e,r,t){"use strict";t.d(r,{g:function(){return d}});var n=t(865),s=t(6670),i=t(2322),a=t(7545),o=t(4005),c=t(4819),u=t(7729),l=t.n(u);function d(e){var r,t=e.mode,u=e.description,d=e.children,f=(0,a.aC)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:c.$.app.NAME}),(0,i.jsx)("meta",{name:"description",content:(u?u+" | ":"")+"Premium Edge Bank - Banking, Loan & Insurance"}),(0,i.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/logo.jpg"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0",id:"viewport"})]}),(0,i.jsx)("div",{className:"bg-grad-bluegreen text-sm",children:(0,i.jsx)("div",{className:"bg-[url('/pattern.png')] bg-cover bg-center",children:(0,i.jsx)(o.n,(0,s.Z)((0,n.Z)({query:f},"unverified"===(r=void 0===t?"guest":t)?{showOn:"success",redirectTo:"/signin",onSuccessRedirectCondition:function(e){if(e.isVerified)return"/"}}:"authenticated"===r?{showOn:"success",redirectTo:"/signin"}:"guest"===r?{showOn:"failure",redirectTo:"/"}:{showOn:"all"}),{children:(0,i.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center px-3 py-12 md:pt-16",children:d})}))})})]})}},6526:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return I}});var n=t(865),s=t(6670),i=t(6297),a=t(2322),o=t(7545),c=t(9680),u=t(412),l=t(45),d=t(5034),f=t(4819),h=t(1396),m=t(8295),p=t(7181),x=t(8883),g=t(9697),v=t(6577),y=t.n(v),j=t(9097),w=t.n(j),N=t(5632),b=t(3955),Z=t(2202),_=t(6901),S=g.AuthSchema.register.extend({confirmPassword:_.z.string()}).refine(function(e){return e.password===e.confirmPassword},{message:"passwords do not match",path:["confirmPassword"]});function I(){var e,r,t,v,j,_,I,P,E,k,C,A,M=(0,N.useRouter)(),W=(0,o.l4)(),T=(0,b.cI)({resolver:(0,x.F)(S)}),Q=T.handleSubmit(function(e){e.confirmPassword;var r=(0,i.Z)(e,["confirmPassword"]);console.log(r),W.mutate(r,{onSuccess:function(){Z.ZP.success("Account created successfully, please login"),M.push("/signin")},onError:function(e){Z.ZP.error((0,m.Z)(e),{id:"signup"})}})},console.log),O=(0,c.F)();return(0,a.jsxs)(h.g,{description:"Sign Up",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)(y(),{alt:"logo",src:"/logo.jpg",width:150,height:50})}),(0,a.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-md shadow-sm",children:[(0,a.jsxs)("div",{className:"px-3 sm:px-6 py-4 border-b",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-800",children:"Create an Account"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Please fill in your registration details"})]}),(0,a.jsxs)("form",{onSubmit:Q,className:"px-3 sm:px-6 py-6 space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Personal Information:"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(e=T.formState.errors.firstName)||void 0===e?void 0:e.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"First Name"},T.register("firstName")))}),(0,a.jsx)(l.I.WithError,{error:null===(r=T.formState.errors.lastName)||void 0===r?void 0:r.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Last Name"},T.register("lastName")))})]}),(0,a.jsx)(l.I.WithError,{error:null===(t=T.formState.errors.email)||void 0===t?void 0:t.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Email Address"},T.register("email")))}),(0,a.jsx)(l.I.WithError,{error:null===(v=T.formState.errors.phone)||void 0===v?void 0:v.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Mobile Phone Number"},T.register("phone")))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Residential Information:"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(j=T.formState.errors.state)||void 0===j?void 0:j.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"State"},T.register("state")))}),(0,a.jsx)(l.I.WithError,{error:null===(_=T.formState.errors.city)||void 0===_?void 0:_.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"City"},T.register("city")))})]}),(0,a.jsx)(l.I.WithError,{error:null===(I=T.formState.errors.nationality)||void 0===I?void 0:I.message,children:(0,a.jsxs)(d.P,(0,s.Z)((0,n.Z)({className:"w-full !py-3 text-sm"},T.register("nationality")),{children:[(0,a.jsx)("option",{value:"",children:"Select Country"}),null===(P=O.data)||void 0===P?void 0:P.map(function(e){return(0,a.jsx)("option",{children:e.name},e.name)})]}))}),(0,a.jsx)(l.I.WithError,{error:null===(E=T.formState.errors.address)||void 0===E?void 0:E.message,children:(0,a.jsx)(l.I,(0,n.Z)({className:"w-full py-4 text-sm",placeholder:"Address"},T.register("address")))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Account Information:"}),(0,a.jsx)(l.I.WithError,{error:null===(k=T.formState.errors.accountType)||void 0===k?void 0:k.message,children:(0,a.jsxs)(d.P,(0,s.Z)((0,n.Z)({className:"w-full !py-3 text-sm"},T.register("accountType")),{children:[(0,a.jsx)("option",{value:"",children:"Select Account Type"}),g.AccountTypes.map(function(e){return(0,a.jsx)("option",{value:e,children:(0,p.k)(e)},e)})]}))}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.I.WithError,{error:null===(C=T.formState.errors.password)||void 0===C?void 0:C.message,children:(0,a.jsx)(l.I,(0,n.Z)({type:"password",className:"w-full py-4 text-sm",placeholder:"Password"},T.register("password")))}),(0,a.jsx)(l.I.WithError,{error:null===(A=T.formState.errors.confirmPassword)||void 0===A?void 0:A.message,children:(0,a.jsx)(l.I,(0,n.Z)({type:"password",className:"w-full py-4 text-sm",placeholder:"Confirm Password"},T.register("confirmPassword")))})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"By continuing, you confirm that you are the owner or primary user of this mobile phone number and email address. You agree to receive automated and account critical emails to this email address."}),(0,a.jsxs)("p",{className:"text-gray-500 text-center",children:["Already have an account?",(0,a.jsx)(w(),{href:"/signin",children:(0,a.jsx)("a",{className:"ml-1 text-theme-blue font-medium",children:"Sign In"})})]}),(0,a.jsx)("div",{className:"pt-3 w-full",children:(0,a.jsx)(u.z,{variant:"transparent-light",loading:W.isLoading,className:"!py-3 !bg-grad-bluegreen !text-white rounded-sm w-full uppercase",children:"Sign Up"})})]})]})]}),(0,a.jsxs)("p",{className:"mt-3 text-xs text-white text-center",children:["\xa9 ",f.$.app.NAME," ",new Date().getFullYear()]})]})}},7567:function(e,r,t){"use strict";t.d(r,{B:function(){return o}});var n=t(7842),s=t(865),i=t(6670),a=t(6383);function o(e,r){return Object.defineProperties(e,Object.entries(r).reduce(function(e,r){var t=(0,a.Z)(r,2),o=t[0],c=t[1];return(0,i.Z)((0,s.Z)({},e),(0,n.Z)({},o,{value:c}))},{})),e}},7181:function(e,r,t){"use strict";function n(e){return e?e[0].toUpperCase()+e.slice(1):""}t.d(r,{k:function(){return n}})}},function(e){e.O(0,[949,599,955,383,195,680,774,888,179],function(){return e(e.s=492)}),_N_E=e.O()}]);