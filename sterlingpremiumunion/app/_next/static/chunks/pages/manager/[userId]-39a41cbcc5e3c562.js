(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{3725:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/[userId]",function(){return n(9350)}])},9213:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(2322),i=n(6277),s=n(5392);function a(e){var t=e.query,n=e.children,a=e.fallback,c=e.className;return t.isLoading?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",c),children:(0,r.jsx)(s.$,{className:"w-10 h-10 text-theme-1"})}):t.isSuccess?(0,r.jsx)(r.Fragment,{children:n(t.data)}):a?!0===a||"string"==typeof a?(0,r.jsx)("div",{className:(0,i.Z)("h-full w-full flex-center",c),children:(0,r.jsx)("p",{className:"font-medium text-sm",children:"string"==typeof a?a:"Something went wrong"})}):(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)(r.Fragment,{children:n(void 0)})}},9951:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(2322),i=n(6058),s=n(6277),a=n(2784);function c(e){var t=e.icon,n=e.title;return(0,r.jsx)(i.O,{as:a.Fragment,children:function(e){var i=e.selected;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 outline-none cursor-pointer group",children:[(0,r.jsx)("div",{className:(0,s.Z)(["flex-center w-10 h-10 sm:w-12 sm:h-12 border rounded-md text-gray-700",i?"bg-theme-1/10 border-transparent ring-2 ring-theme-1/40":"group-hover:border-transparent group-hover:ring-2 group-hover:ring-theme-1/30"]),children:t}),(0,r.jsx)("span",{className:"text-[10px] sm:text-xs text-center",children:n})]})}})}},3521:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var r=n(2322),i=n(6277);function s(e){var t=e.title,n=e.content,s=e.className;return(0,r.jsxs)("div",{className:(0,i.Z)("flex items-center justify-between",s),children:[(0,r.jsx)("p",{className:"font-medium",children:t}),(0,r.jsx)("p",{children:n})]})}},45:function(e,t,n){"use strict";n.d(t,{I:function(){return d},v:function(){return m}});var r=n(865),i=n(6297),s=n(2322),a=n(7567),c=n(1586),o=n(6277),u=n(2784),l=(0,u.forwardRef)(function(e,t){var n=e.className,a=e.type,c=(0,i.Z)(e,["className","type"]);return(0,s.jsx)("input",(0,r.Z)({ref:t,type:void 0===a?"text":a,className:(0,o.Z)("py-3 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",n)},c))});l.displayName="Input";var d=(0,a.B)(l,{WithError:function(e){var t=e.children,n=e.error,r=e.className;return(0,s.jsxs)("div",{className:(0,o.Z)("space-y-2 w-full transform transition-all",r),children:[t,(0,s.jsx)(c.u,{show:!!n,className:"transform-gpu",enter:"transition-all duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("p",{className:"px-2 text-xs text-red-400",children:n})})]})}}),m=(0,u.forwardRef)(function(e,t){var n=e.label,a=e.className,c=e.id,u=(0,i.Z)(e,["label","className","id"]);return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:c,className:"text-gray-600",children:n}),(0,s.jsx)(l,(0,r.Z)({id:c,ref:t,className:(0,o.Z)("w-full py-4",a)},u))]})});m.displayName="LabelledInput"},5034:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(865),i=n(6297),s=n(2322),a=n(6277),c=(0,n(2784).forwardRef)(function(e,t){var n=e.className,c=(0,i.Z)(e,["className"]);return(0,s.jsx)("select",(0,r.Z)({ref:t,className:(0,a.Z)("py-1 rounded-md border-0 focus:ring-0 bg-gray-100 focus:bg-gray-200",n)},c))});c.displayName="Select"},9350:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(2322),i=n(4649),s=n(9213),a=n(9951),c=n(9447),o=n(8983),u=n(412),l=n(9097),d=n.n(l);function m(e){var t=e.account;return(0,r.jsxs)("div",{className:"grid items-baseline grid-cols-6 sm:grid-cols-8 px-2 sm:px-4 py-4 group even:bg-gray-50 cursor-pointer",children:[(0,r.jsx)("span",{className:"col-span-2 sm:col-span-2 text-xs sm:text-sm",children:new Date(t.createdAt).toLocaleDateString()}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-4 flex flex-col",children:[(0,r.jsx)("span",{className:"text-theme-1 font-medium group-hover:underline",children:t.name}),(0,r.jsx)("span",{className:"text-xs",children:t.accountNumber})]}),(0,r.jsx)("div",{className:"col-span-2 sm:col-span-2 my-auto flex justify-end",children:(0,r.jsx)(d(),{href:"/manager/".concat(t.user,"/account/").concat(t.id),children:(0,r.jsx)("a",{children:(0,r.jsx)(u.z,{children:"Manage"})})})})]})}function p(e){var t=e.user,n=(0,o.tH)(t.id);return(0,r.jsx)(c.$.Content,{className:"flex flex-col",children:(0,r.jsx)(s.d,{query:n,fallback:!0,children:function(e){return e.map(function(e){return(0,r.jsx)(m,{account:e},e.id)})}})})}var f=n(865),b=n(6670),h=n(7545),v=n(3521),g=n(45),x=n(5034),j=n(8295),y=n(7181),z=n(8883),N=n(9697),_=n(5632),w=n(3955),P=n(2202);function O(e){var t=e.user,n=(0,h.aC)().data;return n?(0,r.jsxs)(c.$.Content,{children:[(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:"User Information"}),(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsx)(v.F,{className:"py-4",title:"Account name",content:t.firstName+" "+t.lastName}),(0,r.jsx)(v.F,{className:"py-4",title:"Email",content:t.email}),(0,r.jsx)(v.F,{className:"py-4",title:"Password",content:t.password}),(0,r.jsx)(v.F,{className:"py-4",title:"Phone",content:t.phone||"N/A"}),(0,r.jsx)(v.F,{className:"py-4",title:"Address",content:t.address||"N/A"}),(0,r.jsx)(v.F,{className:"py-4",title:"State",content:t.state||"N/A"}),(0,r.jsx)(v.F,{className:"py-4",title:"Nationality",content:t.nationality||"N/A"}),(0,r.jsx)(v.F,{className:"py-4",title:"SSN",content:t.ssn||"N/A"})]})]}),!n.isVerified&&(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:"Email Verification"}),(0,r.jsx)("p",{className:"mt-2",children:"Manually verify this user."}),(0,r.jsx)(T,{user:t})]}),(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:"Create Account"}),(0,r.jsx)("p",{className:"mt-2",children:"Open new account for this user."}),(0,r.jsx)(A,{user:t})]}),n.id!==t.id&&(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:"Admin Status"}),(0,r.jsx)("p",{className:"mt-2",children:"Make this user an admin."}),(0,r.jsx)(S,{user:t})]}),n.id!==t.id&&(0,r.jsxs)("div",{className:"py-3",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:"Delete User"}),(0,r.jsx)("p",{className:"mt-2",children:"Remove this user and all their accounts permanently."}),(0,r.jsx)(E,{user:t})]})]}):null}function T(e){var t=e.user,n=(0,i.sp)(),s=function(){return n.mutate({userId:t.id,dto:(0,b.Z)((0,f.Z)({},t),{isVerified:!0})})};return(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"Verified"}),(0,r.jsx)("p",{children:"No"})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,r.jsx)(u.z,{loading:n.isLoading,onClick:s,children:"Verify Email"})})]})}function A(e){var t,n,i,s=e.user,a=(0,_.useRouter)(),c=(0,o.h5)(),l=(0,w.cI)({resolver:(0,z.F)(N.AccountSchema.adminCreate)}),d=l.handleSubmit(function(e){return c.mutate({userId:s.id,dto:e},{onSuccess:function(){P.ZP.success("Account created"),a.push({pathname:"/manager/".concat(s.id),query:{t:"accounts"}})},onError:function(e){P.ZP.error((0,j.Z)(e))}})});return(0,r.jsxs)("form",{onSubmit:d,className:"mt-2",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-6 py-4",children:[(0,r.jsx)(g.I.WithError,{error:null===(t=l.formState.errors.name)||void 0===t?void 0:t.message,children:(0,r.jsx)(g.I,(0,f.Z)({className:"w-full !py-1",placeholder:"Account name"},l.register("name")))}),(0,r.jsx)(g.I.WithError,{error:null===(n=l.formState.errors.type)||void 0===n?void 0:n.message,children:(0,r.jsx)(x.P,(0,b.Z)((0,f.Z)({className:"w-full"},l.register("type")),{children:N.AccountTypes.map(function(e){return(0,r.jsx)("option",{value:e,children:(0,y.k)(e)},e)})}))}),(0,r.jsx)(g.I.WithError,{error:null===(i=l.formState.errors.level)||void 0===i?void 0:i.message,children:(0,r.jsx)(x.P,(0,b.Z)((0,f.Z)({className:"w-full"},l.register("level")),{children:N.AccountLevels.map(function(e){return(0,r.jsx)("option",{value:e,children:(0,y.k)(e)},e)})}))})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,r.jsx)(u.z,{loading:c.isLoading,children:"Create Account"})})]})}function S(e){var t=e.user,n=(0,i.sp)(),s=function(){return n.mutate({userId:t.id,dto:(0,b.Z)((0,f.Z)({},t),{isAdmin:!t.isAdmin})})};return(0,r.jsxs)("div",{className:"mt-2 divide-y",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("p",{children:"Admin"}),(0,r.jsx)("p",{children:t.isAdmin?"Yes":"No"})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,r.jsx)(u.p,{loading:n.isLoading,onClick:s,children:t.isAdmin?"Remove Admin":"Make Admin"})})]})}function E(e){var t=e.user,n=(0,_.useRouter)(),s=(0,i.ts)(),a=function(){return s.mutate({userId:t.id},{onSuccess:function(){P.ZP.success("User removed successfully"),n.push("/manager")},onError:function(e){P.ZP.error((0,j.Z)(e))}})};return(0,r.jsx)("div",{className:"mt-2 divide-y",children:(0,r.jsx)("div",{className:"flex justify-end pt-4 gap-2",children:(0,r.jsx)(u.p,{loading:s.isLoading,onClick:a,className:"min-w-[6rem]",children:"Delete User"})})})}var q=n(385),M=n(6058),k=n(6824),I=n(9855),C=n(2784),D=["manage","accounts"];function Z(){var e=(0,_.useRouter)(),t=e.query.userId,n=(0,i.dB)(null!=t?t:""),o=e.query.t,u=(0,C.useState)(0),l=u[0],d=u[1],m=function(n){e.push({pathname:"/manager/".concat(t),query:{t:D[n]}})};if("string"==typeof o&&D.includes(o)){var f=D.indexOf(o);f!==l&&d(f)}return(0,r.jsx)(q.c,{children:(0,r.jsx)(q.c.Manager,{children:(0,r.jsx)(c.$,{children:(0,r.jsx)(s.d,{query:n,fallback:!0,className:"py-40",children:function(e){return(0,r.jsxs)(M.O.Group,{selectedIndex:l,onChange:m,children:[(0,r.jsxs)(M.O.List,{className:"py-6 flex items-center justify-around",children:[(0,r.jsx)(a.E,{title:"Manage User",icon:(0,r.jsx)(k.Z,{className:"w-6 h-6"})}),(0,r.jsx)(a.E,{title:"All Accounts",icon:(0,r.jsx)(I.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)(M.O.Panels,{className:"border-t min-h-[400px]",children:[(0,r.jsx)(M.O.Panel,{children:(0,r.jsx)(O,{user:e})}),(0,r.jsx)(M.O.Panel,{children:(0,r.jsx)(p,{user:e})})]})]})}})})})})}},8295:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9644),i=n.n(r);function s(e){var t,n="Something went wrong";if(!i().isAxiosError(e))return n;var r=null===(t=e.response)||void 0===t?void 0:t.data;return r&&"object"==typeof r&&r.message||n}},7181:function(e,t,n){"use strict";function r(e){return 0===e.length?"":e[0].toUpperCase()+e.slice(1)}n.d(t,{k:function(){return r}})},9814:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentStatus=t.AccountLevels=t.AccountTypes=void 0,t.AccountTypes=["savings","checking"],t.AccountLevels=["premier","platinum"],t.DocumentStatus=["idle","reviewing","accepted","rejected"]},5451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3030:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1527:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1675:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5445:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1693:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9814),t),i(n(5451),t),i(n(3030),t),i(n(1527),t),i(n(1675),t),i(n(9706),t),i(n(5445),t),i(n(4995),t),i(n(9239),t),i(n(8497),t),i(n(251),t),i(n(2639),t)},4995:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},251:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2639:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9697:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1693),t),i(n(6139),t)},7620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSchema=void 0;let r=n(6750),i=n(1693);class s{}t.AccountSchema=s,s.update=r.z.object({name:r.z.string().min(1,"name is required"),pin:r.z.string().length(4,"pin must be 4 characters").optional()}),s.adminCreate=r.z.object({name:r.z.string().min(1,"account name is required"),type:r.z.enum(i.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:r.z.enum(i.AccountLevels,{errorMap:()=>({message:"invalid account level"})})}),s.adminUpdate=r.z.object({name:r.z.string().min(1,"account name is required"),type:r.z.enum(i.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),level:r.z.enum(i.AccountLevels,{errorMap:()=>({message:"invalid account level"})}),pin:r.z.string().length(4,"pin must be 4 characters").nullable(),isActive:r.z.boolean(),externalAccount:r.z.object({accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}).nullable(),alert:r.z.object({title:r.z.string().min(1,"title is required"),desc:r.z.string().min(1,"description is required")}).nullable(),documentRequest:r.z.object({name:r.z.string().min(1,"name is required"),desc:r.z.string().min(1,"description is required"),status:r.z.enum(i.DocumentStatus,{errorMap:()=>({message:"invalid document status"})})}).nullable(),permissions:r.z.object({canTransfer:r.z.boolean(),canTransferExternal:r.z.boolean(),canWithdraw:r.z.boolean(),canSetPin:r.z.boolean()})})},8117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthSchema=void 0;let r=n(6750),i=n(1693);class s{}t.AuthSchema=s,s.login=r.z.object({email:r.z.string().email(),password:r.z.string().min(8,"password should be at least 8 characters")}),s.register=r.z.object({email:r.z.string().email(),firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),phone:r.z.string().min(1,"phone is required"),city:r.z.string().min(1,"city is required"),state:r.z.string().min(1,"state is required"),nationality:r.z.string().min(1,"country is required"),address:r.z.string().min(1,"address is required"),accountType:r.z.enum(i.AccountTypes,{errorMap:()=>({message:"invalid account type"})}),password:r.z.string().min(8,"password should be at least 8 characters")})},5936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BonusSchema=void 0;let r=n(6750),i=n(5170);class s{}t.BonusSchema=s,s.adminCreate=r.z.object({amount:r.z.number().positive()}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:i.zDate.optional()})},8096:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChargeSchema=void 0;let r=n(6750),i=n(5170);class s{}t.ChargeSchema=s,s.adminCreate=r.z.object({amount:r.z.number().positive()}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:i.zDate.optional()})},5244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DepositSchema=void 0;let r=n(6750),i=n(5170);class s{}t.DepositSchema=s,s.adminCreate=r.z.object({amount:r.z.number().positive()}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:i.zDate.optional()})},7157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSchema=void 0;let r=n(6750);class i{}t.DocumentSchema=i,i.create=r.z.object({name:r.z.string().min(1,"document name is required"),url:r.z.string().url("invalid document url")})},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailSchema=void 0;let r=n(6750);class i{}t.EmailSchema=i,i.send=r.z.object({receiver:r.z.string().email(),subject:r.z.string().min(1,"subject is required"),body:r.z.string().min(1,"body is required")})},5031:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalTransferOutSchema=t.ExternalTransferInSchema=void 0;let r=n(6750),i=n(5170);class s{}t.ExternalTransferInSchema=s,s.adminCreate=r.z.object({amount:r.z.number().positive(),accountName:r.z.string().min(1,"acount name is required"),bankName:r.z.string().min(1,"bank name is required")}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),accountName:r.z.string().min(1,"account name is required"),bankName:r.z.string().min(1,"bank name is required"),createdAt:i.zDate.optional()});class a{}t.ExternalTransferOutSchema=a,a.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}),a.adminCreate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required")}),a.adminUpdate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required"),routingNumber:r.z.string().min(1,"routing number is required"),createdAt:i.zDate.optional()})},6139:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7620),t),i(n(8117),t),i(n(5936),t),i(n(8096),t),i(n(5244),t),i(n(7157),t),i(n(84),t),i(n(5031),t),i(n(5161),t),i(n(2282),t),i(n(731),t),i(n(7041),t),i(n(7997),t)},5161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSchema=void 0;let r=n(6750);class i{}t.TokenSchema=i,i.verify=r.z.object({token:r.z.string()})},2282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},731:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransferOutSchema=void 0;let r=n(6750),i=n(5170);class s{}t.TransferOutSchema=s,s.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number({invalid_type_error:"Invalid amount"}).positive(),accountNumber:r.z.string().min(1,"account number is required")}),s.adminCreate=r.z.object({amount:r.z.number().positive(),accountNumber:r.z.string().min(1,"account number is required")}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),createdAt:i.zDate.optional()})},7041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserSchema=void 0;let r=n(6750);class i{}t.UserSchema=i,i.update=r.z.object({phone:r.z.string().min(1,"phone is required"),address:r.z.string().min(1,"address is required").optional(),city:r.z.string().min(1,"city is required").optional(),state:r.z.string().min(1,"state is required").optional(),nationality:r.z.string().min(1,"nationality is required").optional(),ssn:r.z.string().optional()}),i.adminCreate=r.z.object({email:r.z.string().email(),firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),password:r.z.string().min(8,"password should be at least 8 characters"),isAdmin:r.z.boolean(),isVerified:r.z.boolean()}),i.adminUpdate=r.z.object({firstName:r.z.string().min(1,"first name is required"),lastName:r.z.string().min(1,"last name is required"),phone:r.z.string().min(1,"phone is required"),address:r.z.string().min(1,"address is required").optional(),city:r.z.string().min(1,"city is required").optional(),state:r.z.string().min(1,"state is required").optional(),nationality:r.z.string().min(1,"nationality is required").optional(),ssn:r.z.string().optional(),password:r.z.string().min(8,"password should be at least 8 characters"),isAdmin:r.z.boolean(),isVerified:r.z.boolean()})},5170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zDate=void 0;let r=n(6750);t.zDate=r.z.preprocess(e=>{if("string"==typeof e||e instanceof Date)return new Date(e)},r.z.date({invalid_type_error:"invalid date"}))},7997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawalSchema=void 0;let r=n(6750),i=n(5170);class s{}t.WithdrawalSchema=s,s.create=r.z.object({pin:r.z.string().min(1,"transaction pin is required"),amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required")}),s.adminCreate=r.z.object({amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required")}),s.adminUpdate=r.z.object({amount:r.z.number().positive(),method:r.z.string().min(1,"withdrawal method is required"),createdAt:i.zDate.optional()})},6058:function(e,t,n){"use strict";n.d(t,{O:function(){return I}});var r=n(2784),i=n(544),s=n(586),a=n(3703),c=n(9108),o=n(2929),u=n(8064),l=n(3401),d=n(7352),m=n(1742),p=n(6799);function f({onFocus:e}){let[t,n]=(0,r.useState)(!0);return t?r.createElement(p._,{as:"button",type:"button",features:p.A.Focusable,onFocus(t){t.preventDefault();let r,i=50;function s(){if(i--<=0){r&&cancelAnimationFrame(r);return}if(e()){n(!1),cancelAnimationFrame(r);return}r=requestAnimationFrame(s)}r=requestAnimationFrame(s)}}):null}var b,h=n(5559),v=n(1554),g=n(9833),x=((b=x||{})[b.SetSelectedIndex=0]="SetSelectedIndex",b[b.RegisterTab=1]="RegisterTab",b[b.UnregisterTab=2]="UnregisterTab",b[b.RegisterPanel=3]="RegisterPanel",b[b.UnregisterPanel=4]="UnregisterPanel",b);let j={0(e,t){let n=e.tabs.filter(e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),i=[...e.tabs.slice(t.index),...r].find(e=>n.includes(e));return i?{...e,selectedIndex:e.tabs.indexOf(i)}:e},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],i=(0,o.z2)([...e.tabs,t.tab],e=>e.current),s=null!=(n=i.indexOf(r))?n:e.selectedIndex;return -1===s&&(s=e.selectedIndex),{...e,tabs:i,selectedIndex:s}},2:(e,t)=>({...e,tabs:e.tabs.filter(e=>e!==t.tab)}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:(0,o.z2)([...e.panels,t.panel],e=>e.current)},4:(e,t)=>({...e,panels:e.panels.filter(e=>e!==t.panel)})},y=(0,r.createContext)(null);function z(e){let t=(0,r.useContext)(y);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,z),n}return t}y.displayName="TabsSSRContext";let N=(0,r.createContext)(null);function _(e){let t=(0,r.useContext)(N);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_),n}return t}N.displayName="TabsDataContext";let w=(0,r.createContext)(null);function P(e){let t=(0,r.useContext)(w);if(null===t){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,P),n}return t}function O(e,t){return(0,a.E)(t.type,j,e,t)}w.displayName="TabsActionsContext";let T=r.Fragment,A=(0,i.yV)(function(e,t){let{defaultIndex:n=0,vertical:s=!1,manual:a=!1,onChange:c,selectedIndex:o=null,...d}=e,p=s?"vertical":"horizontal",b=a?"manual":"auto",h=null!==o,v=(0,l.T)(t),[g,x]=(0,r.useReducer)(O,{selectedIndex:null!=o?o:n,tabs:[],panels:[]}),j=(0,r.useMemo)(()=>({selectedIndex:g.selectedIndex}),[g.selectedIndex]),z=(0,m.E)(c||(()=>{})),_=(0,m.E)(g.tabs),P=(0,r.useMemo)(()=>({orientation:p,activation:b,...g}),[p,b,g]),A=(0,m.E)(h?e.selectedIndex:g.selectedIndex),S=(0,r.useMemo)(()=>({registerTab:e=>(x({type:1,tab:e}),()=>x({type:2,tab:e})),registerPanel:e=>(x({type:3,panel:e}),()=>x({type:4,panel:e})),change(e){A.current!==e&&z.current(e),h||x({type:0,index:e})}}),[x,h]);(0,u.e)(()=>{x({type:0,index:null!=o?o:n})},[o]);let E=(0,r.useRef)({tabs:[],panels:[]});return r.createElement(y.Provider,{value:E},r.createElement(w.Provider,{value:S},r.createElement(N.Provider,{value:P},P.tabs.length<=0&&r.createElement(f,{onFocus(){var e,t;for(let n of _.current)if((null==(e=n.current)?void 0:e.tabIndex)===0)return null==(t=n.current)||t.focus(),!0;return!1}}),(0,i.sY)({ourProps:{ref:v},theirProps:d,slot:j,defaultTag:T,name:"Tabs"}))))}),S=(0,i.yV)(function(e,t){let{orientation:n,selectedIndex:r}=_("Tab.List"),s=(0,l.T)(t);return(0,i.sY)({ourProps:{ref:s,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})}),E=(0,i.yV)(function(e,t){var n,m;let p=`headlessui-tabs-tab-${(0,s.M)()}`,{orientation:f,activation:b,selectedIndex:x,tabs:j,panels:y}=_("Tab"),N=P("Tab"),w=_("Tab"),O=z("Tab"),T=(0,r.useRef)(null),A=(0,l.T)(T,t);(0,u.e)(()=>N.registerTab(T),[N,T]);let S=O.current.tabs.indexOf(p);-1===S&&(S=O.current.tabs.push(p)-1);let E=j.indexOf(T);-1===E&&(E=S);let q=E===x,M=(0,h.z)(e=>{var t;let n=e();if(n===o.fE.Success&&"auto"===b){let r=null==(t=(0,g.r)(T))?void 0:t.activeElement,i=w.tabs.findIndex(e=>e.current===r);-1!==i&&N.change(i)}return n}),k=(0,h.z)(e=>{let t=j.map(e=>e.current).filter(Boolean);if(e.key===c.R.Space||e.key===c.R.Enter){e.preventDefault(),e.stopPropagation(),N.change(E);return}switch(e.key){case c.R.Home:case c.R.PageUp:return e.preventDefault(),e.stopPropagation(),M(()=>(0,o.jA)(t,o.TO.First));case c.R.End:case c.R.PageDown:return e.preventDefault(),e.stopPropagation(),M(()=>(0,o.jA)(t,o.TO.Last))}if(M(()=>(0,a.E)(f,{vertical:()=>e.key===c.R.ArrowUp?(0,o.jA)(t,o.TO.Previous|o.TO.WrapAround):e.key===c.R.ArrowDown?(0,o.jA)(t,o.TO.Next|o.TO.WrapAround):o.fE.Error,horizontal:()=>e.key===c.R.ArrowLeft?(0,o.jA)(t,o.TO.Previous|o.TO.WrapAround):e.key===c.R.ArrowRight?(0,o.jA)(t,o.TO.Next|o.TO.WrapAround):o.fE.Error}))===o.fE.Success)return e.preventDefault()}),I=(0,r.useRef)(!1),C=(0,h.z)(()=>{var e;I.current||(I.current=!0,null==(e=T.current)||e.focus(),N.change(E),(0,v.Y)(()=>{I.current=!1}))}),D=(0,h.z)(e=>{e.preventDefault()}),Z=(0,r.useMemo)(()=>({selected:q}),[q]),R={ref:A,onKeyDown:k,onMouseDown:D,onClick:C,id:p,role:"tab",type:(0,d.f)(e,T),"aria-controls":null==(m=null==(n=y[E])?void 0:n.current)?void 0:m.id,"aria-selected":q,tabIndex:q?0:-1};return(0,i.sY)({ourProps:R,theirProps:e,slot:Z,defaultTag:"button",name:"Tabs.Tab"})}),q=(0,i.yV)(function(e,t){let{selectedIndex:n}=_("Tab.Panels"),s=(0,l.T)(t),a=(0,r.useMemo)(()=>({selectedIndex:n}),[n]);return(0,i.sY)({ourProps:{ref:s},theirProps:e,slot:a,defaultTag:"div",name:"Tabs.Panels"})}),M=i.AN.RenderStrategy|i.AN.Static,k=(0,i.yV)(function(e,t){var n,a,c,o;let{selectedIndex:d,tabs:m,panels:f}=_("Tab.Panel"),b=P("Tab.Panel"),h=z("Tab.Panel"),v=`headlessui-tabs-panel-${(0,s.M)()}`,g=(0,r.useRef)(null),x=(0,l.T)(g,t);(0,u.e)(()=>b.registerPanel(g),[b,g]);let j=h.current.panels.indexOf(v);-1===j&&(j=h.current.panels.push(v)-1);let y=f.indexOf(g);-1===y&&(y=j);let N=y===d,w=(0,r.useMemo)(()=>({selected:N}),[N]),O={ref:x,id:v,role:"tabpanel","aria-labelledby":null==(a=null==(n=m[y])?void 0:n.current)?void 0:a.id,tabIndex:N?0:-1};return N||null!=(c=e.unmount)&&!c||null!=(o=e.static)&&o?(0,i.sY)({ourProps:O,theirProps:e,slot:w,defaultTag:"div",features:M,visible:N,name:"Tabs.Panel"}):r.createElement(p._,{as:"span",...O})}),I=Object.assign(E,{Group:A,List:S,Panels:q,Panel:k})},7352:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(2784),i=n(8064);function s(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase())return"button"}function a(e,t){let[n,a]=(0,r.useState)(()=>s(e));return(0,i.e)(()=>{a(s(e))},[e.type,e.as]),(0,i.e)(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&a("button")},[n,t]),n}},6824:function(e,t,n){"use strict";var r=n(2784);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))});t.Z=i},9855:function(e,t,n){"use strict";var r=n(2784);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}))});t.Z=i}},function(e){e.O(0,[949,226,955,383,385,774,888,179],function(){return e(e.s=3725)}),_N_E=e.O()}]);